{"version":3,"sources":["images/logo.png","assets/images/logo_n.png","views/otherIcon.png","assets/images/logo.png","helpers.js","components/forumList.js","components/side-bar/StyledSideNav.jsx","components/side-bar/SideBar.jsx","views/forum/forum.js","views/login.js","views/courses.js","components/resource/resource.component.jsx","components/resourceList/resourceList.component.jsx","components/inputIcon/inputIcon.component.jsx","components/topNav/topNav.component.jsx","components/modalResource/modalResource.js","views/class/class.component.jsx","shared/studyroomHelpers.js","components/StudyRoomComponent/StudyroomDetails.js","components/StudyRoomComponent/CreateStudyRoom.js","components/StudyRoomComponent/StudyroomComponent.js","components/notesList/notes.component.jsx","components/CourseComponent.js","App.js","index.js","firebase-config.js"],"names":["module","exports","GraphQL_URL","SubscribeUser","sus","token","Promise","resolve","reject","axios","post","query","endpoint","expirationTime","keys","auth","p256dh","headers","then","res","catch","error","console","log","Error","LDAPAuthUser","email","password","variables","getForumsByCourse","id","a","promise","createPost","title","content","userCreator","userCreator_id","RegisterUser","displayName","ForumList","course_id","user","useUser","React","useState","modalShow","setModalShow","showSuccessModal","setShowSuccessModal","NewForumModal","props","newForumName","setNewForumName","Modal","size","aria-labelledby","centered","Header","closeButton","Title","Body","Form","onSubmit","event","preventDefault","name","createForum","uid","ya","swal","style","margin","Group","controlId","Control","as","rows","placeholder","onChange","target","value","Button","type","backgroundColor","marginTop","String","_id","forums","setForums","useEffect","data","forumsData","map","item","forumList","index","length","push","Container","Row","Col","fontWeight","color","marginLeft","onClick","show","onHide","Card","ListGroup","maxHeight","overflow","forum","key","to","Item","action","variant","StyledSideNav","styled","SideNav","defaultProps","StyledToggle","Toggle","StyledNav","Nav","StyledNavItem","NavItem","NavIcon","StyledNavText","NavText","NavHeader","div","expanded","NavTitle","NavInfoPane","Separator","MyDiv","Image","className","src","Logo","height","fluid","display","fontSize","backgroundPosition","minHeight","xs","icon","faUserCircle","SideBar","state","navItems","this","row","eventKey","width","marginRight","alt","text","minWidth","onSelect","selected","handler","onToggle","setState","defaultSelected","Component","withRouter","useParams","commentsShow","toggleCommentsShow","newCommentContent","setCommentContent","newCommentCreator","newCommentPostID","setCommentpostID","newAnswerContent","setAnswerContent","newAnswerCreator","newAnswerPostID","setAnswerPostID","newAnswerCommentID","setAnswerCommentID","submitCommentHandler","idPost","createComment","changeCommentContentHandler","submitAnswerHandler","idComment","createAnswer","changeAnswerContentHandler","substr","deletePostFunction","idForum","deletePost","deleteCommentFunction","deleteComment","NewPostModal","newPostTitle","setPostTitle","newPostContent","setNewPostContent","marginBottom","comments","createdAt","Date","setForum","getForumPosts","getPosts","forumData","history","goBack","logout","comment","index2","setEmail","setPassword","showLogin","setShowLogin","useHistory","firebase","useFirebaseApp","login","status","signInWithEmailAndPassword","result","alert","emailReg","setEmailReg","displayNameReg","setdisplayNameReg","passwordReg","setPasswordReg","maxWidth","textAlign","Label","e","surName","LDAPCreateUser","setShow","Uint8Array","swReg","pushManager","subscribe","userVisibleOnly","applicationServerKey","toJSON","JSON","stringify","NewCourseModal","newCourseName","setNewCourseName","titulo","cuerpo","usuario","PushNotification","id_course","courses","setCourses","mail","teachers","setTeachers","Notification","permission","requestPermission","teachersData","getTeachers","teachersList","getForums","getAllCourses","coursesData","coursesList","course","otherIcon","teacher","Resource","img","idUser","ResourceList","items","reverse","InputIcon","InputGroup","Prepend","Text","aria-describedby","required","TopNav","md","handlerClick","faPlusCircle","faSearch","handlerSearch","ModalResource","showModalNote","hideModal","update","Footer","Class","handlerSelect","handleShowModal","showModal","handleCloseModal","handlerSidebar","nameUser","note","noteContent","userToken","aux","resources","notes","match","params","allResourcesOfClass","getStudyRooms","StudyRoomDetails","flagButtonInscribe","SetflagButtonInscribe","handleInscribe","sr_id","student_name","student_picture","student_email","studyroom","handleDelete","students","student","student_id","buttons","dangerMode","willDelete","resource","description","href","author","border","handleClose","Intl","DateTimeFormat","year","month","day","format","parse","date","duration","align","ownerName","ownerEmail","CreateStudyRoom","selectedDate","setSelectedDate","selectedName","setSelectedName","selectedDuration","setSelectedDuration","selectedDescription","setSelectedDescription","handleDateChange","ownername","courseId","toISOString","renderice","defaultValue","utils","DateFnsUtils","label","KeyboardButtonProps","RenderStudyRoomItem","StudyRoom","setRenderice","studyrooms","Notes","currentPage","setCurrentPage","postsPerPage","number","Pagination","active","Math","ceil","indexOfLastPost","indexOfFirstPost","currentNotes","i","slice","First","Last","Course","id_note","id_user","score","course_name","notesPerPage","getNotesByClass","get_study_rooms","signOut","setswReg","navigator","serviceWorker","register","reg","getSubscription","fallback","exact","path","component","ReactDOM","render","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","document","getElementById"],"mappings":"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","file":"static/js/main.ae720888.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.229c63a1.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_n.f70c1bc5.png\";","module.exports = __webpack_public_path__ + \"static/media/otherIcon.30b6e371.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.9c02cdde.png\";","import axios from \"axios\";\r\nimport {useUser} from 'reactfire'\r\n// IP's\r\nconst GraphQL_URL = \"https://52.71.79.75/graphql\"\r\n// var user = useUser();\r\n//URLS\r\n\r\n//Requests\r\n\r\n\r\n//soap\r\nexport const getTeachers = (token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          getTeachers{\r\n            name,\r\n            mail\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n// NOTIFICATIONS\r\nexport const SubscribeUser = (sus,token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation{\r\n            subscribeUser(subscription:{endpoint:\"${sus.endpoint}\",expirationTime:\"${sus.expirationTime}\",keys:{auth:\"${sus.keys.auth}\",p256dh:\"${sus.keys.p256dh}\"}})\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\nexport const PushNotification = (titulo, cuerpo, usuario, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation {\r\n            pushNotification(notification: {titulo: \"${titulo}\", cuerpo: \"${cuerpo}\", usuario: \"${usuario}\"}) {\r\n              titulo\r\n              cuerpo\r\n              usuario\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//LDAP\r\n\r\nexport const LDAPCreateUser = (email, name, surName, password) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation {\r\n            LDAPCreateUser(user: {email: \"${email}\", name: \"${name}\", surName: \"${surName}\", password: \"${password}\"}) {\r\n              status\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\nexport const LDAPAuthUser = (email, password) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          LDAPAuthUser(email:\"${email}\",password:\"${password}\"){\r\n            status\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n/* No la esta usando */\r\nexport const getForums = (token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          getForums{\r\n            name,\r\n            _id\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.data.getForums)\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//GetPosts\r\n//Ya\r\nexport const getForumsByCourse = async (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          query{\r\n            getForumsByCourse(course_id:\"${id}\"){\r\n              name,\r\n              _id\r\n            }\r\n          }\r\n          `,\r\n          variables: {}\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateForum\r\n//Ya\r\nexport const createForum = (userCreator, userCreator_id, course_id, name, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createForum(forum:{name:\"${name}\", userCreator:\"${userCreator}\", userCreator_id: \"${userCreator_id}\",course_id: \"${course_id}\"}){\r\n                  name\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateCourse\r\n//Ya\r\nexport const createCourse = (id, name, forum, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n            mutation{\r\n              createCourse(course:{id:${id}, name:\"${name}\", forum:\"${forum}\"}){\r\n                ok\r\n              }\r\n            }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//GetPosts\r\n/*const FORUM_IP = \"https://3.225.10.138:3000\"\r\nconst URL_FORUMS = `${FORUM_IP}/forums`;\r\n\r\n\r\nexport const getPosts = async (id) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .get(`${URL_FORUMS}/${id}`)\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};*/\r\n\r\nexport const getPosts = (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          getForumPosts(_idForum:\"${id}\"){\r\n            _id\r\n            title\r\n            content\r\n            userCreator\r\n            userCreator_id\r\n            forum_id\r\n            likes\r\n            comments{\r\n              _id\r\n              content\r\n              userCreator\r\n              userCreator_id\r\n              answer\r\n            }\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(\"Esto es lo que imprime la peticin\")\r\n        console.log(res.data.data.getForumPosts)\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreatePost\r\n//Ya\r\nexport const createPost = async (id, title, content, userCreator, userCreator_id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createPost(_idForum:\"${id}\", post:{title:\"${title}\", content:\"${content}\", userCreator:\"${userCreator}\", userCreator_id:\"${userCreator_id}\", forum_id:\"${id}\"}){\r\n                  content\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateComment\r\n//Ya\r\nexport const createComment = (id, idPost, content, userCreator, userCreator_id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createPostComment(_idForum:\"${id}\", _idPost:\"${idPost}\", postComment:{content:\"${content}\", userCreator:\"${userCreator}\", userCreator_id:\"${userCreator_id}\"}){\r\n                  content\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateAnswer\r\n//Ya\r\nexport const createAnswer = (id, idPost, idComment, content, userCreator, userCreator_id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n                mutation{\r\n                  createCommentAnswer(_idForum:\"${id}\", _idPost:\"${idPost}\",_idComment:\"${idComment}\", answer:{content:\"${content}\", userCreator:\"${userCreator}\", userCreator_id:\"${userCreator_id}\"}){\r\n                    content\r\n                  }\r\n                }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//deletePost\r\n//Ya\r\nexport const deletePost = (idForum, idPost, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n            mutation{\r\n              deletePost(_idForum:\"${idForum}\", _idPost:\"${idPost}\"){\r\n                _id\r\n              }\r\n            }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//deleteComment\r\n//Ya\r\nexport const deleteComment = (idForum, idPost, idComment, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation{\r\n            deletePostComment(_idForum:\"${idForum}\", _idPost:\"${idPost}\", _idComment:\"${idComment}\"){\r\n              _id\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//deleteAnswer\r\n//Ya\r\nexport const deleteAnswer = (idForum, idPost, idComment, idAnswer, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation{\r\n            deleteCommentAnswer(_idForum:\"${idForum}\", _idPost:\"${idPost}\", _idComment:\"${idComment}\", _idAnswer:\"${idAnswer}\"){\r\n              _id\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//Get all courses\r\n//Ya\r\nexport const getAllCourses = (token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n          query{\r\n            getAllCourses{\r\n              id_course,\r\n              name\r\n              \r\n            }\r\n          }\r\n          `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.data.getForums)\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//Get notes by class\r\n//Ya\r\nexport const getNotesByClass = (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n          query{\r\n            getNotesByClass(id_course:${id}){\r\n              id_note\r\n              content\r\n              id_user\r\n              score\r\n              id_course\r\n            }\r\n          }\r\n          `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//\r\nexport const RegisterUser = (email, displayName, password) => {\r\n\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createUser(user:{email: \"${email}\", displayName: \"${displayName}\", password:\"${password}\"}){\r\n                  displayName \r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n}\r\n\r\n\r\n//Ya\r\nexport const createNote = (content, id_course,token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createNote(note:{content:\"${content}\",id_user:2,score:0,id_course:${id_course}}){\r\n                  ok\r\n                }\r\n              } \r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//Ya\r\nexport const getResources = (id_course,token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              query{\r\n                allResourcesOfClass(id:${id_course}){\r\n                  idUser\r\n                  content\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//Ya\r\nexport const createResource = (content, id_course, nameUser, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createResource(resource:{idUser:\"${nameUser}\",idClase:${id_course},content:\"${content}\"}){\r\n                  message\r\n                  id\r\n                }\r\n              } \r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Link } from \"react-router-dom\";\r\nimport { getForumsByCourse, createForum } from '../helpers'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport {useUser} from 'reactfire'\r\nimport swal from 'sweetalert';\r\n\r\n\r\nconst ForumList = (course_id) => {\r\n  const user = useUser();\r\n  const [modalShow, setModalShow] = React.useState(false);\r\n  const [showSuccessModal, setShowSuccessModal] = React.useState(false);\r\n\r\n\r\n  function NewForumModal(props) {\r\n\r\n    const [newForumName, setNewForumName] = React.useState(\"\")\r\n\r\n    function submitHandler(event) {\r\n      event.preventDefault();\r\n      createForum(user.displayName,user.uid,course_id.course_id, newForumName, user.ya).then((res) => {\r\n        swal(\"Creando Foro..!\", \"...\",  \"success\");\r\n        setModalShow(false)\r\n        setShowSuccessModal(!showSuccessModal)\r\n      })\r\n    }\r\n\r\n    function changeNameHandler(event) {\r\n      event.preventDefault();\r\n      setNewForumName(event.target.value)\r\n    }\r\n\r\n\r\n    return (\r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Nuevo foro\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n\r\n          <Form onSubmit={submitHandler} style={{ margin: \"3%\" }}>\r\n            <Form.Group controlId=\"postTitle\">\r\n              <Form.Control as=\"textarea\" rows=\"1\" placeholder=\"Ttulo del foro\" onChange={changeNameHandler} />\r\n            </Form.Group>\r\n            <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >Crear foro</Button>\r\n          </Form>\r\n\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n\r\n\r\n  const [forums, setForums] = React.useState([{\r\n    value: {\r\n      name: String,\r\n      _id: String,\r\n      course_id: String,\r\n    }\r\n  }])\r\n\r\n\r\n  useEffect(() => {\r\n    getForumsByCourse(course_id.course_id, user.ya).then((res) => {\r\n      console.log(res.data.data)\r\n      console.log(course_id.course_id)\r\n      const forumsData = res.data.data.getForumsByCourse.map((item) => ({\r\n        //const forumsData = res.data.map((item) => ({\r\n        value: item,\r\n      }));\r\n      const forumList = [];\r\n      for (let index = 0; index < forumsData.length; index++) {\r\n        forumList.push(forumsData[index])\r\n        \r\n      }\r\n      setForums(forumList)\r\n    }).catch()\r\n  }, [showSuccessModal])\r\n\r\n  return (\r\n    <Container>\r\n          <Row>\r\n            <Col>\r\n              <h3 style={{ fontWeight: \"bold\", color: \"#5E90F2\" }}>Forums</h3>\r\n            </Col>\r\n            <Col>\r\n              <Button style={{ marginLeft: \"30%\", backgroundColor: \"#5E90F2\" }} onClick={() => setModalShow(true)}>\r\n                Crear un nuevo foro\r\n            </Button>\r\n              <NewForumModal\r\n                show={modalShow}\r\n                onHide={() => setModalShow(false)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Card style={{ marginTop: \"5%\" }} >\r\n            <ListGroup style={{ maxHeight: \"250px\", overflow: \"scroll\" }}>\r\n              {forums.map((forum, index) =>\r\n                <Link key={index} to={\"/forum/posts/\" + forum.value._id}><ListGroup.Item action variant=\"light\">{forum.value.name}</ListGroup.Item></Link>\r\n              )}\r\n            </ListGroup>\r\n          </Card>\r\n    </Container>\r\n  )\r\n}\r\nexport default ForumList;\r\n","import styled from 'styled-components';\r\nimport SideNav, {\r\n    Toggle,\r\n    Nav,\r\n    NavItem,\r\n    NavIcon,\r\n    NavText\r\n} from '@trendmicro/react-sidenav';\r\n\r\n\r\n// SideNav\r\nconst StyledSideNav = styled(SideNav)`\r\n    background-color: #fff;\r\n    border-right: 1px solid #ddd;\r\n`;\r\nStyledSideNav.defaultProps = SideNav.defaultProps;\r\n\r\n// Toggle\r\nconst StyledToggle = styled(Toggle)`\r\n    background-color: rgba(132,94,194,0.5);\r\n`;\r\nStyledToggle.defaultProps = Toggle.defaultProps;\r\n\r\n// Nav\r\nconst StyledNav = styled(Nav)`\r\n    background-color: #fff;\r\n    &&[class*=\"expanded--\"] {\r\n        [class*=\"sidenav-subnav--\"] {\r\n            > [class*=\"sidenav-subnavitem--\"],\r\n            > [class*=\"sidenav-subnavitem--\"]:hover {\r\n                > [class*=\"navitem--\"] {\r\n                    color: #222;\r\n                }\r\n            }\r\n            > [class*=\"sidenav-subnavitem--\"]:hover {\r\n                > [class*=\"navitem--\"] {\r\n                    background-color: #eee;\r\n                }\r\n            }\r\n            > [class*=\"sidenav-subnavitem--\"][class*=\"selected--\"] {\r\n                > [class*=\"navitem--\"] {\r\n                    color: #db3d44;\r\n                }\r\n                > [class*=\"navitem--\"]::before {\r\n                    border-left: 2px solid #db3d44;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"] {\r\n        > [class*=\"navitem--\"] {\r\n            background-color: inherit;\r\n            color: #222;\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"]:hover {\r\n        > [class*=\"navitem--\"] {\r\n            background-color: #fff;\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"],\r\n    && > [class*=\"sidenav-navitem--\"]:hover {\r\n        > [class*=\"navitem--\"] {\r\n            [class*=\"navicon--\"] {\r\n                &, > * {\r\n                    color: #666;\r\n                }\r\n            }\r\n            [class*=\"sidenav-nav-text--\"] {\r\n                &, > * {\r\n                    color: #222;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"][class*=\"highlighted--\"],\r\n    && > [class*=\"sidenav-navitem--\"][class*=\"highlighted--\"]:hover {\r\n        > [class*=\"navitem--\"] {\r\n            [class*=\"navicon--\"],\r\n            [class*=\"navtext--\"] {\r\n                &, > * {\r\n                    color: #845EC2;\r\n                }\r\n            }\r\n            [class*=\"sidenav-nav-text--\"] {\r\n                font-weight: 700;\r\n            }\r\n        }\r\n    }\r\n`;\r\nStyledNav.defaultProps = Nav.defaultProps;\r\n\r\n// NavItem\r\nconst StyledNavItem = styled(NavItem)`\r\n    &&&:hover {\r\n        [class*=\"navtext--\"] {\r\n            color: #222;\r\n        }\r\n    }\r\n`;\r\nStyledNavItem.defaultProps = NavItem.defaultProps;\r\n\r\n// NavIcon\r\nconst StyledNavIcon = styled(NavIcon)`\r\n    color: #222;\r\n`;\r\nStyledNavIcon.defaultProps = NavIcon.defaultProps;\r\n\r\n// NavText\r\nconst StyledNavText = styled(NavText)`\r\n    color: #fff;\r\n`;\r\nStyledNavText.defaultProps = NavText.defaultProps;\r\n\r\nexport {\r\n    StyledToggle as Toggle,\r\n    StyledNav as Nav,\r\n    StyledNavItem as NavItem,\r\n    StyledNavIcon as NavIcon,\r\n    StyledNavText as NavText\r\n};\r\nexport default StyledSideNav;","import React from \"react\";\r\nimport SideNav, {Nav, NavItem, NavText, Toggle} from './StyledSideNav';\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport styled from 'styled-components';\r\nimport {Col, Image, Row} from \"react-bootstrap\";\r\nimport Logo from \"../../assets/images/logo_n.png\";\r\nimport {faUserCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./SideBar.styles.css\"\r\nimport {useUser} from 'reactfire'\r\nimport { isFuture } from \"date-fns\";\r\n\r\n// const navWidthCollapsed = 64;\r\nconst navWidthExpanded = 250;\r\n\r\nconst NavHeader = styled.div`\r\n    display: ${props => (props.expanded ? 'block' : 'none')};\r\n    white-space: nowrap;    \r\n    color: #fff;\r\n    > * {\r\n        color: inherit;\r\n        background-color: inherit;\r\n    }\r\n`;\r\n\r\n// height: 20px + 10px + 10px = 40px\r\nconst NavTitle = styled.div`\r\n    font-size: 1.5em;\r\n    line-height: 20px;\r\n    padding: 20px 0;\r\n`;\r\n\r\nconst NavInfoPane = styled.div`\r\n    float: left;\r\n    width: 100%;\r\n    padding: 5px 20px;\r\n    background-color: rgb(214,93,177,0.5);\r\n`;\r\n\r\nconst Separator = styled.div`\r\n    clear: both;\r\n    position: relative;\r\n    margin: 0;\r\n    background-color: #ddd;\r\n    height: 1px;\r\n`;\r\n\r\nconst MyDiv = ({expanded}) => {\r\n\r\n    var user = useUser();\r\n  \r\n    if(user != null){\r\n        return(\r\n            <NavHeader expanded={expanded} style={{backgroundColor: \"#fff\"}}>\r\n            <NavTitle>\r\n                <i><Image className={\"ml-2 mb-1\"} src={Logo} style={{height: \"60px\"}} fluid/></i>\r\n                <p style={{display: \"inline\", fontSize: \"25px\", marginLeft: \"35px\", color: \"#5E90F2 \"}}\r\n                   className={\"mt-2\"}>WeStudy </p>\r\n            </NavTitle>\r\n            <NavInfoPane style={{backgroundColor: \"#5E90F2\", backgroundPosition: \"center\", minHeight: \"50px\"}}>\r\n                <Row>\r\n                    <Col xs={3}>\r\n                        <FontAwesomeIcon icon={faUserCircle}\r\n                                         style={{fontSize: \"3em\", marginTop: \"15px\", color: \"#fff\"}}/>\r\n                    </Col>\r\n                    <Col >\r\n                    \r\n                        <p className={\"mt-3\"} style={{fontWeight: \"bold\", color: \"#fff\"}}>  {user.displayName != null ? user.displayName:\"\" } </p>\r\n                        <p style={{marginTop: \"-15px\", color: \"#fff\"}}> {user.email != null ? user.email:\"\" } </p>\r\n                    </Col>\r\n                </Row>\r\n                <hr/>\r\n            </NavInfoPane>  \r\n        </NavHeader>\r\n            );\r\n    } else {\r\n        return(\r\n            <div></div>\r\n        )\r\n    }\r\n      \r\n }\r\n\r\nclass SideBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: true  \r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {expanded} = this.state;\r\n        const navItems = this.props.data.map((row) => {\r\n            return (\r\n                <NavItem eventKey={row.id} key={row.id} style={{height: \"60px\",backgroundColor: \"#5E90F2\"}}\r\n                         className={\"mt-0\"}>\r\n                    <NavText style={{color: \"#fff\", display: \"true\",backgroundColor: \"#5E90F2\", fontSize:\"18px\"}}>\r\n                        <img src={\"/icons/\"+row.icon+\".png\"} style={{width: \"20px\", color: \"#fff\", marginRight: \"10px\", marginLeft:\"70px\"}} alt=\"\"/>\r\n                        {row.text}\r\n                    </NavText>\r\n                    <Separator className={\"mt-2\"} />\r\n                </NavItem>\r\n\r\n            );\r\n        });\r\n        return (\r\n            <SideNav\r\n                className=\"sticky\"\r\n                style={{minWidth: expanded ? navWidthExpanded : navWidthExpanded, backgroundColor:\"#5E90F2\"}}\r\n                onSelect={(selected) => {\r\n                    this.props.handler(selected);\r\n                }}\r\n                onToggle={() => {\r\n                    this.setState({expanded: true});\r\n                }}\r\n\r\n            >\r\n                <Toggle style={{backgroundColor: expanded ? \"#A30021\" : \"#A30021\", height: \"57px\", display: \"none\"}}/>\r\n                <MyDiv expanded={true} />\r\n                <Nav defaultSelected=\"home\" style={{backgroundColor: \"#5E90F2\"}}>\r\n                    {navItems}\r\n                </Nav>\r\n            </SideNav>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default SideBar;","import React, { useEffect, useState } from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Container from 'react-bootstrap/Container'\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { getPosts, createPost, createComment, createAnswer, deletePost, deleteComment, deleteAnswer } from '../../helpers'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport ForumList from '../../components/forumList'\r\nimport { useUser } from 'reactfire'\r\nimport SideBar from \"../../components/side-bar/SideBar\"\r\nimport { withRouter } from \"react-router\";\r\nimport { IoIosTrash } from \"react-icons/io\";\r\nimport swal from 'sweetalert';\r\n\r\n\r\n\r\n\r\nconst Forum = (props) => {\r\n\r\n    const user = useUser();\r\n    const id = useParams().id; //forum id\r\n    const [modalShow, setModalShow] = React.useState(false);\r\n    const [commentsShow, toggleCommentsShow] = useState(false);\r\n    const [answersShow, toggleAnswersShow] = useState(false);\r\n    const [showSuccessModal, setShowSuccessModal] = React.useState(false);\r\n\r\n    const [newCommentContent, setCommentContent] = React.useState(\"\")\r\n    //const [newCommentCreator, setCommentCreator] = React.useState(\"\")\r\n    const newCommentCreator = user.displayName\r\n    const [newCommentPostID, setCommentpostID] = React.useState(\"\")\r\n\r\n    const [newAnswerContent, setAnswerContent] = React.useState(\"\")\r\n    //const [newAnswerCreator, setAnswerCreator] = React.useState(\"\")\r\n    const newAnswerCreator = user.displayName\r\n    const [newAnswerPostID, setAnswerPostID] = React.useState(\"\")\r\n    const [newAnswerCommentID, setAnswerCommentID] = React.useState(\"\")\r\n\r\n    function submitCommentHandler(event) {\r\n        event.preventDefault();\r\n        createComment(id, newCommentPostID, newCommentContent, newCommentCreator, user.uid, user.ya).then((res) => {\r\n            console.log(res)\r\n            setModalShow(false)\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function changeCommentContentHandler(event) {\r\n        event.preventDefault();\r\n        setCommentContent(event.target.value)\r\n        setCommentpostID(event.target.name)\r\n    }\r\n\r\n    function submitAnswerHandler(event) {\r\n        event.preventDefault();\r\n        createAnswer(id, newAnswerPostID, newAnswerCommentID, newAnswerContent, newAnswerCreator, \"0\", user.ya).then((res) => {\r\n            console.log(res)\r\n            setModalShow(false)\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function changeAnswerContentHandler(event) {\r\n        event.preventDefault();\r\n        setAnswerContent(event.target.value)\r\n        setAnswerPostID(event.target.name.substr(0, 24))\r\n        setAnswerCommentID(event.target.name.substr(25, 50))\r\n    }\r\n\r\n    function deletePostFunction(idPost) {\r\n        deletePost(id, idPost, user.ya).then((res) => {\r\n            swal(\"Eliminando publicacin..!\", \"...\", \"success\");\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function deleteCommentFunction(idPost, idComment) {\r\n        deleteComment(id, idPost, idComment, user.ya).then((res) => {\r\n            swal(\"Eliminando comentario..!\", \"...\", \"success\");\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function deleteAnswerFunction(idPost, idComment, idAnswer) {\r\n        deleteAnswer(id, idPost, idComment, idAnswer, user.ya).then((res) => {\r\n            swal(\"Eliminando respuesta..!\", \"...\", \"success\");\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    function NewPostModal(props) {\r\n\r\n        const [newPostTitle, setPostTitle] = React.useState(\"\")\r\n        const [newPostContent, setNewPostContent] = React.useState(\"\")\r\n        const [newPostCreator, setNewPostCreator] = React.useState(\"\")\r\n\r\n        function submitPostHandler(event) {\r\n            event.preventDefault();\r\n            createPost(id, newPostTitle, newPostContent, user.displayName, \"0\", user.ya).then((res) => {\r\n                console.log(res)\r\n                setModalShow(false)\r\n                setShowSuccessModal(!showSuccessModal)\r\n            })\r\n        }\r\n\r\n        function changePostTitleHandler(event) {\r\n            event.preventDefault();\r\n            setPostTitle(event.target.value)\r\n        }\r\n\r\n        function changePostContentHandler(event) {\r\n            event.preventDefault();\r\n            setNewPostContent(event.target.value)\r\n        }\r\n\r\n\r\n        return (\r\n            <Modal\r\n                {...props}\r\n                size=\"lg\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title style={{ color: \"#5E90F2\", marginBottom: \"2%\" }} id=\"contained-modal-title-vcenter\">\r\n                        Nueva publicacin\r\n              </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form onSubmit={submitPostHandler} style={{ margin: \"3%\" }}>\r\n                        <Form.Group controlId=\"postTitle\">\r\n                            <Form.Control as=\"textarea\" rows=\"1\" placeholder=\"Ttulo\" onChange={changePostTitleHandler} />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"postTextarea1\">\r\n                            <Form.Control as=\"textarea\" rows=\"3\" placeholder=\"Contenido de la publicacin\" onChange={changePostContentHandler} />\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >\r\n                            Publicar\r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n\r\n    const [forum, setForum] = useState([{\r\n        _id: String,\r\n        title: String,\r\n        content: String,\r\n        userCreator: String,\r\n        comments: [{\r\n            _id: String,\r\n            content: String,\r\n            userCreator: String,\r\n            createdAt: Date,\r\n        }]\r\n    }])\r\n\r\n\r\n    useEffect(() => {\r\n        getPosts(id, user.ya).then((res) => {\r\n            console.log(res.data.data.getForumPosts);\r\n            const forumData = res.data.data.getForumPosts;\r\n            setForum(forumData)\r\n        }).catch()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [showSuccessModal])\r\n\r\n    console.log(forum)\r\n\r\n    const handlerSidebar = (key) => {\r\n        if (key == \"1\") {\r\n            props.history.push(\"/\");\r\n        }\r\n        if (key == \"2\") {\r\n            props.history.goBack();\r\n        }\r\n        if (key == \"3\") {\r\n            props.logout();\r\n            props.history.push(\"/\");\r\n        }\r\n    }\r\n\r\n    const data = [\r\n        {\r\n            id: 1,\r\n            text: \"My Courses\",\r\n            icon: \"courses\",\r\n        },\r\n        {\r\n            id: 2,\r\n            text: \"Go Back\",\r\n            icon: \"back\",\r\n        },\r\n        {\r\n            id: 3,\r\n            text: \"Cerrar Sesin\",\r\n            icon: \"back\",\r\n        },\r\n    ];\r\n    return (\r\n        <div>\r\n            <SideBar data={data} handler={handlerSidebar} />\r\n            <div className=\"content\" style={{ margin: '5%' }}>\r\n                <Row>\r\n\r\n                    <Col>\r\n                        <Button style={{ backgroundColor: \"#5E90F2\", marginLeft: \"70%\" }} onClick={() => setModalShow(true)}>\r\n                            Aadir publicacin\r\n                </Button>\r\n                        <NewPostModal\r\n                            show={modalShow}\r\n                            onHide={() => setModalShow(false)}\r\n                        />\r\n                    </Col>\r\n                </Row>  \r\n                <ListGroup>\r\n                    {forum && forum.map((post, index) =>\r\n\r\n                        <Card style={{ marginBottom: '2%', backgroundColor: \"#5E90F2\" }}>\r\n                            <Card.Header style={{ color: \"white\", fontWeight: \"bold\" }}>{post.title} | {post.userCreator}</Card.Header>\r\n\r\n                            <ListGroup.Item key={index} >\r\n                                <p style={{ marginBottom: \"5%\" }}>{post.content}</p>\r\n                                {post.comments.length !== 0 && !commentsShow && <Link style={{ color: \"#5E90F2\" }} onClick={() => toggleCommentsShow(true)}>Mostrar comentarios: {post.comments.length}</Link>}\r\n                                {commentsShow && <Link style={{ color: \"#5E90F2\" }} onClick={() => toggleCommentsShow(false)}>Esconder comentarios</Link>}\r\n\r\n                                {commentsShow && forum[index].comments.map((comment, index2) =>\r\n\r\n                                    <ListGroup.Item style={{ marginBottom: \"2%\", marginTop: \"1%\" }} key={index2} >\r\n                                        <p style={{ fontWeight: \"lighter\" }}>{comment.userCreator} | {String(comment.createdAt).substr(0, 10)}</p>\r\n                                        <p>{comment.content}</p>\r\n                                   \r\n                                       <Form onSubmit={submitAnswerHandler} style={{ marginTop: \"1%\" }}>\r\n                                            <Form.Group controlId=\"answerTextarea1\" onChange={changeAnswerContentHandler}>\r\n                                                {user.displayName === comment.userCreator && <Button onClick={() => { deleteCommentFunction(post._id, comment._id) }} style={{ backgroundColor: \"#FE4A49\", marginLeft: \"1%\", marginTop: \"1%\" }} >\r\n                                                    <IoIosTrash size={20} />\r\n                                                </Button>}\r\n                                            </Form.Group>\r\n                                        </Form>\r\n                                    </ListGroup.Item>\r\n                                )}\r\n                                <Form onSubmit={submitCommentHandler} style={{ marginTop: \"1%\" }}>\r\n                                    <Form.Group controlId=\"commentTextarea1\" onChange={changeCommentContentHandler}>\r\n                                        <Form.Control name={post._id} as=\"textarea\" rows=\"3\" />\r\n                                        <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >\r\n                                            Comentar\r\n                                  </Button>\r\n                                        {user.displayName === post.userCreator && <Button onClick={() => { deletePostFunction(post._id) }} style={{ backgroundColor: \"#FE4A49\", marginLeft: \"1%\", marginTop: \"1%\" }} >\r\n                                            <IoIosTrash size={20} />\r\n                                        </Button>}\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </ListGroup.Item>\r\n                        </Card>\r\n\r\n                    )}\r\n                </ListGroup>\r\n            </div>\r\n        </ div>\r\n    )\r\n}\r\nexport default withRouter(Forum);\r\n","import React, {useState} from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Logo from '../images/logo.png'\r\nimport { render } from '@testing-library/react';\r\nimport 'firebase/auth'\r\nimport {useFirebaseApp} from 'reactfire'\r\nimport { RegisterUser, LDAPAuthUser, LDAPCreateUser, SubscribeUser } from '../helpers';\r\n\r\n\r\nexport default (props) =>{\r\n    const [email, setEmail] = React.useState(\"\")\r\n    const [password, setPassword] = React.useState(\"\")\r\n    const [showLogin, setShowLogin] = React.useState(true)\r\n\r\n    const history = useHistory()\r\n    const firebase = useFirebaseApp();\r\n\r\n    const login = async()=>{\r\n        LDAPAuthUser(email, password).then((res) => {\r\n            console.log(res)\r\n            if(res.data.data.LDAPAuthUser.status == true){\r\n                 firebase.auth().signInWithEmailAndPassword(email,password).then(function(result) {\r\n                    history.push(\"/\")\r\n                  }).catch(function(error) {\r\n                    alert(\"no login\")\r\n                  });\r\n            }else{\r\n                alert(\"First auth not working\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const [emailReg, setEmailReg] = React.useState(\"\")\r\n    const [displayNameReg, setdisplayNameReg] = React.useState(\"\")\r\n    const [passwordReg, setPasswordReg] = React.useState(\"\")\r\n\r\n    function handleSubmit(event){\r\n\r\n        LDAPCreateUser(emailReg, displayNameReg,displayNameReg, passwordReg ).then((res) => {\r\n            if(res.data.data.LDAPCreateUser.status){\r\n                RegisterUser(emailReg,displayNameReg, passwordReg).then((res) => {\r\n                    console.log(res);\r\n                    setShowLogin(true);\r\n                    setEmailReg(\"\");\r\n                    setdisplayNameReg(\"\")\r\n                    setPasswordReg(\"\")\r\n                 }).catch(function(error) {\r\n                    alert(\"Register not working\")\r\n                  });\r\n            }else{\r\n                alert(\"First register not working\")\r\n            }\r\n        })\r\n        event.preventDefault();\r\n    }\r\n\r\n    const logout = async () =>{\r\n        await firebase.auth().signOut();\r\n    }\r\n\r\n    function getPublicKey(){\r\n        // return fetch(\"http://ec2-54-92-227-88.compute-1.amazonaws.com:3005/api/key\").then(res => res.arrayBuffer())\r\n        //     .then(key => new Uint8Array(key))\r\n        return new Uint8Array([4, 228, 238, 51, 173, 81, 218, 100, 221, 83, 177, 211, 48, 44, 205, 72, 48, 128, 62, 78, 248, 163, 242, 34, 68, 14, 40, 201, 63, 212, 223, 225, 178, 83, 43, 33, 112, 84, 173, 215, 164, 134, 168, 104, 19, 228, 145, 183, 221, 220, 140, 10, 40, 33, 19, 218, 13, 152, 206, 214, 73, 152, 201, 72, 60])\r\n      }\r\n\r\n    // const sus = async() =>{ \r\n    //     let key = getPublicKey();\r\n    //         console.log(key);\r\n    //         props.swReg.pushManager.subscribe({\r\n    //             userVisibleOnly:true,\r\n    //             applicationServerKey:key\r\n    //         }).then(res => res.toJSON()).then(sus => {\r\n    //             console.log(JSON.stringify(sus));\r\n    //             SubscribeUser(sus,user.ya).then((res) => {\r\n    //                 console.log(\"listo!\")\r\n    //             })\r\n    //         })\r\n       \r\n    // }\r\n\r\n    return (\r\n        <div>\r\n            <button className=\"btn-noti-desactivadas\">Notificaciones Desactivadas</button>\r\n            <div style={{display: showLogin ? \"block\":\"none\"}} >\r\n            <Container style={{ maxWidth: \"500px\" }}>\r\n                <div style={{ textAlign: \"center\" }}>\r\n                    <img src={Logo} alt=\"Logo WeStudy\" style={{ width: \"35%\", height: \"35%\", marginBottom: \"5%\", marginTop: \"10%\", }} />\r\n                </div>\r\n                <Form>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Label>Correo electrnico</Form.Label>\r\n                        <Form.Control type=\"email\" placeholder=\"Ingresar correo electrnico\" onChange={(e) => setEmail(e.target.value)} />\r\n                    </Form.Group>\r\n    \r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"Contrasea\" onChange={(e) => setPassword(e.target.value)} />\r\n                        <Button style={{ marginTop: \"2%\", width: \"100%\" }} variant=\"primary\" onClick={login}>\r\n                            Ingresar\r\n                     </Button>\r\n                    </Form.Group>\r\n                    <div style={{ textAlign: \"center\" }}>\r\n                        <Button variant=\"link\" onClick={() => setShowLogin(false)} >\r\n                            Registrarse\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </Container>\r\n            </div>\r\n            <div style={{display: showLogin ? \"none\":\"block\"}}>\r\n            <Container style={{ maxWidth: \"500px\" }}>\r\n            <div style={{ textAlign: \"center\" }}>\r\n                <img src={Logo} alt=\"Logo WeStudy\" style={{ width: \"35%\", height: \"35%\", marginBottom: \"5%\", marginTop: \"10%\", }} />\r\n            </div>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group controlId=\"formBasicName\">\r\n                    <Form.Label>Nombre</Form.Label>\r\n                    <Form.Control type=\"displayName\" value={displayNameReg} placeholder=\"Ingresar su nombre\" onChange={(e) => setdisplayNameReg(e.target.value)}/>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Correo electrnico</Form.Label>\r\n                    <Form.Control type=\"email\"  value={emailReg} placeholder=\"Ingresar correo electrnico\" onChange={(e) => setEmailReg(e.target.value)}/>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Contrasea\"  value={passwordReg} onChange={(e) => setPasswordReg(e.target.value)}/>\r\n                    <Button style={{ marginTop: \"2%\", width: \"100%\" }} variant=\"primary\" type=\"submit\" >\r\n                        Registrarse\r\n                 </Button>\r\n                </Form.Group>\r\n                <div style={{ textAlign: \"center\" }}>\r\n                <Button variant=\"link\" onClick={() => setShowLogin(true)} >\r\n                            Iniciar Sesin\r\n                        </Button>\r\n                        </div>\r\n            </Form>\r\n        </Container>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { getAllCourses, createCourse, PushNotification, SubscribeUser, getTeachers } from '../helpers'\r\nimport { Link } from \"react-router-dom\";\r\nimport SideBar from \"../components/side-bar/SideBar\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { withRouter } from \"react-router\";\r\nimport swal from 'sweetalert';\r\nimport { useUser } from 'reactfire'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport otherIcon from \"./otherIcon.png\"\r\n\r\n\r\n\r\nconst Courses = (props) => {\r\n\r\n    const [show, setShow] = React.useState(false);\r\n    var user = useUser();\r\n\r\n    function getPublicKey() {\r\n        // return fetch(\"http://ec2-54-92-227-88.compute-1.amazonaws.com:3005/api/key\").then(res => res.arrayBuffer())\r\n        //     .then(key => new Uint8Array(key))\r\n        return new Uint8Array([4, 228, 238, 51, 173, 81, 218, 100, 221, 83, 177, 211, 48, 44, 205, 72, 48, 128, 62, 78, 248, 163, 242, 34, 68, 14, 40, 201, 63, 212, 223, 225, 178, 83, 43, 33, 112, 84, 173, 215, 164, 134, 168, 104, 19, 228, 145, 183, 221, 220, 140, 10, 40, 33, 19, 218, 13, 152, 206, 214, 73, 152, 201, 72, 60])\r\n    }\r\n\r\n    const sus = async () => {\r\n        let key = getPublicKey();\r\n        console.log(key);\r\n        if (props.swReg.pushManager != null) {\r\n            props.swReg.pushManager.subscribe({\r\n                userVisibleOnly: true,\r\n                applicationServerKey: key\r\n            }).then(res => res.toJSON()).then(sus => {\r\n                console.log(JSON.stringify(sus));\r\n                SubscribeUser(sus, user.ya).then((res) => {\r\n                    console.log(\"listo!\")\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    function NewCourseModal(props) {\r\n\r\n        const [newCourseName, setNewCourseName] = React.useState(\"\")\r\n\r\n        function submitHandler(event) {\r\n            event.preventDefault();\r\n            createCourse(1, newCourseName, \"0\", user.ya).then((res) => {\r\n                swal(\"Creando Curso..!\", \"...\", \"success\");\r\n                setModalShow(false)\r\n                setShow(!show)\r\n                PushNotification(newCourseName, 'Nuevo Curso creado', user.displayName, user.ya).then((res) => {\r\n                    swal(\"Notificando a tus compaeros\", \"...\", \"success\");\r\n                })\r\n            })\r\n        }\r\n\r\n        function changeNameHandler(event) {\r\n            event.preventDefault();\r\n            setNewCourseName(event.target.value)\r\n        }\r\n\r\n\r\n        return (\r\n            <Modal\r\n                {...props}\r\n                size=\"lg\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        Nuevo curso\r\n              </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n\r\n                    <Form onSubmit={submitHandler} style={{ margin: \"3%\" }}>\r\n                        <Form.Group controlId=\"postTitle\">\r\n                            <Form.Control as=\"textarea\" rows=\"1\" placeholder=\"Ttulo del foro\" onChange={changeNameHandler} />\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >Crear curso</Button>\r\n                    </Form>\r\n\r\n                </Modal.Body>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n\r\n    const [modalShow, setModalShow] = React.useState(false);\r\n    const [courses, setCourses] = React.useState([{\r\n        value:\r\n        {\r\n            id_course: String,\r\n            name: String\r\n        }\r\n    }])\r\n    const [teachers, setTeachers] = React.useState([{\r\n        value: {\r\n            name: String,\r\n            mail: String\r\n        }\r\n    }])\r\n\r\n    useEffect(() => {\r\n        if(Notification.permission != \"granted\"){\r\n           Notification.requestPermission((e) => {\r\n               if(e == \"granted\"){\r\n                   sus();\r\n               }\r\n           });\r\n       }\r\n        getTeachers(user.ya).then((res) => {\r\n            //console.log(res.data.data.getTeachers)\r\n            const teachersData = res.data.data.getTeachers.map((item) => ({\r\n                //const forumsData = res.data.map((item) => ({\r\n                value: item,\r\n            }));\r\n            const teachersList = [];\r\n            for (let index = 0; index < teachersData.length; index++) {\r\n                teachersList.push(teachersData[index])\r\n\r\n            }\r\n            setTeachers(teachersList)\r\n            /*const coursesData = res.data.data.getAllCourses.map((item) => ({\r\n                value: item,\r\n            }));\r\n            const coursesList = [];\r\n            for (let index = 0; index < coursesData.length; index++) {\r\n                coursesList.push(coursesData[index])\r\n            }\r\n            setCourses(coursesList)*/\r\n        }).catch()\r\n        getAllCourses(user.ya).then((res) => {\r\n            console.log(res.data.data.getAllCourses)\r\n            const coursesData = res.data.data.getAllCourses.map((item) => ({\r\n                value: item,\r\n            }));\r\n            const coursesList = [];\r\n            for (let index = 0; index < coursesData.length; index++) {\r\n                coursesList.push(coursesData[index])\r\n            }\r\n            setCourses(coursesList)\r\n        }).catch()\r\n    }, [show])\r\n\r\n    const handlerSidebar = (key) => {\r\n        if (key == \"1\") {\r\n        }\r\n        if (key == \"2\") {\r\n            props.logout();\r\n        }\r\n\r\n    }\r\n\r\n    const data = [\r\n        {\r\n            id: 1,\r\n            text: \"My Courses\",\r\n            icon: \"courses\",\r\n        },\r\n        {\r\n            id: 2,\r\n            text: \"Cerrar Sesin\",\r\n            icon: \"back\",\r\n        },\r\n    ];\r\n\r\n\r\n\r\n\r\n    console.log(teachers)\r\n    return (\r\n        <div>\r\n\r\n            <div className=\"content\" >\r\n                <SideBar data={data} handler={handlerSidebar} />\r\n                <Row>\r\n                    <Col>\r\n                        <h1 style={{ marginLeft: \"1%\", fontWeight: \"bold\", color: \"#5E90F2\" }}>Cursos</h1>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button style={{ backgroundColor: \"#5E90F2\", marginLeft: \"50%\" }} onClick={() => setModalShow(true)} >\r\n                            Nuevo curso\r\n                </Button>\r\n                        <NewCourseModal\r\n                            show={modalShow}\r\n                            onHide={() => setModalShow(false)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {courses.map((course, index) =>\r\n                        <Link style={{ margin: '1%' }} to={\"/course/\" + course.value.name + \"/\" + course.value.id_course}>\r\n                            <Card key={index} style={{ width: '18rem', margin: '1%', backgroundColor: \"white\" }}>\r\n                                <Card.Body>\r\n                                    <Card.Title style={{ color: \"#5E90F2\", fontWeight: \"bold\" }}>{course.value.name}</Card.Title>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Link>\r\n\r\n\r\n                    )}\r\n                </Row>\r\n                <h1 style={{ marginLeft: \"1%\", fontWeight: \"bold\", color: \"#5E90F2\" }}><img src={otherIcon} marginLeft=\"100px\" alt=\"Logo\" width=\"50\" height=\"50\"/> Profesores</h1>\r\n                {teachers.length>1 && <Card style={{ marginTop: \"5%\", marginRight:\"40%\" }} >\r\n                        <ListGroup style={{ maxHeight: \"250px\" }}>\r\n                            {teachers.map((teacher) =>\r\n                                <ListGroup.Item action variant=\"light\">{teacher.value.name + \"     |     \" + teacher.value.mail}</ListGroup.Item>\r\n                            )}\r\n                        </ListGroup>\r\n                    </Card>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Courses);\r\n","import React from \"react\";\r\nimport \"./resource.styles.css\"\r\nimport img from \"../../assets/images/logo.png\"\r\nconst Resource = ({row}) => {\r\n\r\n  return (\r\n    <li className=\"animated fadeIn fast\">\r\n      <div className=\"avatar\">\r\n        <img src={img} />\r\n      </div>\r\n      <div className=\"bubble-container\">\r\n        <div className=\"bubble\">\r\n          <h6>{row.idUser}</h6>\r\n          {row.content}\r\n        </div>\r\n        <div className=\"arrow\"></div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Resource;","import React from \"react\";\r\nimport Resource from \"../resource/resource.component\"\r\nimport \"./resourceList.styles.css\"\r\n\r\nconst ResourceList = ({data}) => {\r\n    console.log(data)\r\n    const items =  [...data].reverse().map((row) => {\r\n        return(\r\n            <Resource row={row} />\r\n        );\r\n    });\r\n    console.log(items)\r\n  return (\r\n    <ul id=\"timeline\" className=\"timeline\">\r\n        {items}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ResourceList;","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { InputGroup } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst InputIcon = (props) => (\r\n\r\n  <Form.Group >\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>\r\n          <FontAwesomeIcon icon={props.icon} />\r\n        </InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <Form.Control\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        aria-describedby=\"inputGroupPrepend\"\r\n        onChange = {props.handler}\r\n        required\r\n      />\r\n    </InputGroup>\r\n  </Form.Group>\r\n);\r\n\r\nexport default InputIcon;","import React from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlusCircle, faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport InputIcon from \"../inputIcon/inputIcon.component\"\r\nconst TopNav = (props) => (\r\n  <Row>\r\n    <Col md={4}>\r\n      <Button\r\n        type=\"submit\"\r\n        style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }}\r\n        onClick={props.handlerClick}\r\n      >\r\n        <FontAwesomeIcon\r\n          icon={faPlusCircle}\r\n          style={{ fontSize: \"1.5em\", color: \"#fff\", marginRight: \"0.3em\" }}\r\n        />\r\n        {props.text}\r\n      </Button>\r\n    </Col>\r\n    <Col md={7} >\r\n      <InputIcon\r\n        type=\"text\"\r\n        placeholder=\"Search..\"\r\n        icon={faSearch}\r\n        handler={props.handlerSearch}\r\n      />\r\n    </Col>\r\n  </Row>\r\n);\r\n\r\nexport default TopNav;\r\n","import React from \"react\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport styled from 'styled-components';\r\nimport {Col, Image, Row, Modal, Button, Form} from \"react-bootstrap\";\r\nimport {faUserCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useUser} from 'reactfire'\r\nimport { isFuture } from \"date-fns\";\r\n\r\nconst ModalResource = ({showModalNote,hideModal,handlerClick,update}) => {\r\n\r\n    var user = useUser();\r\n        return(\r\n       \r\n            <Modal\r\n            show={showModalNote}\r\n            onHide={hideModal}\r\n          >\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Create New Resource</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                <Form.Label>Insert text</Form.Label>\r\n                <Form.Control as=\"textarea\" rows=\"3\" onChange={update} />\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={hideModal}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={() => handlerClick(user.displayName)}\r\n              >\r\n                Create\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n            );\r\n }\r\n\r\n export default ModalResource;","import React from \"react\";\r\nimport \"./class.styles.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SideBar from \"../../components/side-bar/SideBar\";\r\nimport Logo from \"../../assets/images/logo_n.png\";\r\nimport ResourceList from \"../../components/resourceList/resourceList.component\";\r\nimport Notes from \"../../components/notes/notes\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\nimport { Col, Row} from \"react-bootstrap\";\r\nimport { faPlusCircle, faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport TopNav from \"../../components/topNav/topNav.component\"\r\nimport {createResource, getResources} from \"../../helpers\"\r\nimport ModalResource from \"../../components/modalResource/modalResource\"\r\nimport swal from 'sweetalert';\r\n\r\nclass Class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    resources:[],\r\n    notes:[],\r\n    showModal:false,\r\n    course_id: this.props.match.params.course_id,\r\n    showModalNote:false,\r\n    noteContent:\"\"\r\n\t};\r\n  }\r\n\r\n  componentDidMount(){\r\n    getResources(this.state.course_id, this.props.userToken)\r\n    .then((res) => {\r\n      this.setState({ resources: res.data.data.allResourcesOfClass }, () =>\r\n        console.log(res.data.data.allResourcesOfClass)\r\n      );\r\n    })\r\n    .catch();\r\n  }\r\n\r\n  \r\n\r\n  handlerSelect = (key) => {\r\n\t  alert(\"clicked: \" + key)\r\n  };\r\n  handlerSearch = (e) => {};\r\n\r\n  handlerClick = (e) => {\r\n\t  alert(\"click\")\r\n  };\r\n\r\n  handleShowModal = () => {\r\n\t  this.setState({showModal:true});\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n\tthis.setState({showModal:false});\r\n}\r\n\r\nhandlerSidebar = (key) => {\r\n  if(key == \"1\"){\r\n    this.props.history.push(\"/\");\r\n  }\r\n  if(key == \"2\"){\r\n    this.props.history.goBack();\r\n  }\r\n  if(key == \"3\"){\r\n    this.props.logout();\r\n    this.props.history.push(\"/\");\r\n  }\r\n}\r\n\r\nhandlerClick = (name) => {\r\n  const note = this.state.noteContent;\r\n  if(note.length <= 20 && note.length > 0){\r\n    createResource(note, this.state.course_id,name,this.props.userToken) \r\n    .then((res) => {\r\n      swal(\"Creando Recurso!\" , \"...\",\"success\");\r\n      const aux = {\r\n        idUser:name,\r\n        content:note\r\n      };\r\n      this.setState({ resources: [...this.state.resources, aux] });\r\n      this.setState({ showModalNote: false })\r\n    })\r\n    .catch();\r\n  } else {\r\n\r\n  }\r\n\r\n};\r\n\r\n  render() {\r\n    const data = [\r\n      {\r\n        id: 1,\r\n        text: \"My Courses\", \r\n        icon: \"courses\",\r\n      },\r\n      {\r\n        id: 2,\r\n        text: \"Go Back\",\r\n        icon: \"back\",\r\n      },\r\n      {\r\n        id: 3,\r\n        text: \"Cerrar Sesin\",\r\n        icon: \"back\",\r\n      },\r\n    ];\r\n    \r\n    console.log(this.props.userToken);\r\n\r\n    return (\r\n      <div>\r\n     <SideBar data={data} handler={this.handlerSidebar} />\r\n        <div className=\"content\">\r\n\r\n\t\t <TopNav handlerSearch={this.handlerSearch} text=\"Create Resource\" handlerClick={() => this.setState({showModalNote:true})} />\r\n          <h1 className=\"title\">\r\n            Software Architecture {\">\"}\r\n            {\">\"} October 12{\" \"}\r\n          </h1>\r\n          <h5 className=\"subtitle\">Resources</h5> \r\n          <hr />\r\n          <ResourceList data={this.state.resources} />\r\n          \r\n        </div>\r\n      <ModalResource showModalNote={this.state.showModalNote} hideModal={() => {this.setState({showModalNote:false})}} update={(e) => this.setState({noteContent:e.target.value})} handlerClick={this.handlerClick} />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Class);\r\n","import axios from \"axios\";\r\n\r\n\r\nconst GraphQL_URL = \"https:///52.71.79.75/graphql\"\r\n\r\n\r\n//Ya\r\nexport const getStudyRooms = async (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n    .post(GraphQL_URL, {\r\n      query:`\r\n      query{\r\n        get_study_rooms(courseId:\"${id}\"){\r\n          _id\r\n          name\r\n          resources{\r\n            _id\r\n            resource\r\n            author\r\n            authorImage\r\n            description\r\n          }\r\n          students{\r\n            _id\r\n            name\r\n            picture\r\n            email\r\n          }\r\n          calendarEventId\r\n          ownerEmail\r\n          ownerName\r\n          description\r\n          date\r\n          duration\r\n        }\r\n      }\r\n      `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n             \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//Ya\r\nexport const inscribeUser = (sr_id, student_name, student_picture,student_email, token) => {\r\n    \r\n  let promise = new Promise((resolve, reject) => {\r\n        axios\r\n        .post(GraphQL_URL,\r\n          {\r\n            query:`\r\n            mutation{\r\n              inscribe_student(\r\n                sr_id: \"${sr_id}\",\r\n                student: {\r\n                  name: \"${student_name}\"\r\n                  picture: \"${student_picture}\"\r\n                  email: \"${student_email}\"\r\n                }\r\n                \r\n                ){\r\n                name\r\n              }\r\n            }\r\n            `\r\n          },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Authorization\": \"Bearer \" + token,\r\n              }\r\n            }\r\n          )\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          reject(new Error(error));\r\n        });\r\n    });\r\n  return promise;\r\n}\r\n\r\n//Ya\r\nexport const deleteUser = (sr_id, student_id, token) => {\r\n    \r\n  let promise = new Promise((resolve, reject) => {\r\n        axios\r\n        .post(GraphQL_URL,\r\n          {\r\n            query:`\r\n            mutation{\r\n              delete_student(\r\n                sr_id: \"${sr_id}\",\r\n                rmstudent: {\r\n                  _id: \"${student_id}\"\r\n                }\r\n                 \r\n                \r\n                ){\r\n                name\r\n              }\r\n            }\r\n            `\r\n          },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Authorization\": \"Bearer \" + token,\r\n              }\r\n            }\r\n          )\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          reject(new Error(error));\r\n        });\r\n    });\r\n  return promise;\r\n}\r\n\r\nexport const createSR = (name, description, date, duration, ownername, ownerEmail, courseId, token) => {\r\n    \r\n  let promise = new Promise((resolve, reject) => {\r\n        axios\r\n        .post(GraphQL_URL,\r\n          {\r\n            query:`\r\n            mutation{\r\n              create_study_room(studyroom:\r\n                {\r\n                  name: \"${name}\",\r\n                  description: \"${description}\",\r\n                  date: \"${date}\",\r\n                  duration: ${duration},\r\n                  ownerName: \"${ownername}\",\r\n                  ownerEmail: \"${ownerEmail}\",\r\n                  courseId: \"${courseId}\"\r\n                }){\r\n                name\r\n              }\r\n            }\r\n            `\r\n          },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Authorization\": \"Bearer \" + token,\r\n              }\r\n            }\r\n          )\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          reject(new Error(error));\r\n        });\r\n    });\r\n  return promise;\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Button, Modal, Row, Col, Container} from \"react-bootstrap\";\r\nimport './StudyroomComponent.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { BsFillPersonPlusFill,BsFillPersonDashFill } from 'react-icons/bs';\r\nimport {useUser} from 'reactfire'\r\nimport {inscribeUser,deleteUser} from '../../shared/studyroomHelpers';\r\nimport swal from 'sweetalert';\r\n\r\n\r\nfunction StudyRoomDetails(props) {\r\n\r\n    const [flagButtonInscribe, SetflagButtonInscribe] = useState(true);\r\n    var user = useUser();\r\n\r\n    useEffect(() => {\r\n        props.studyroom.students.map((student) => {\r\n            if((student.email == user.email) && (student.name == user.displayName)){\r\n                SetflagButtonInscribe(false);\r\n            }\r\n        })\r\n    })\r\n\r\n    function handleInscribe(){\r\n        inscribeUser(props.studyroom._id,user.displayName,\"picture\",user.email,user.ya).then((res) => {\r\n            SetflagButtonInscribe(true);\r\n            swal(\"Inscribiendo!\", user.displayName , \"success\");\r\n        })\r\n        \r\n    }\r\n\r\n    function handleDelete(){\r\n        props.studyroom.students.map((student) => {\r\n            if((student.email == user.email) && (student.name == user.displayName)){\r\n                deleteUser(props.studyroom._id,student._id, user.ya).then((res) => {\r\n                    SetflagButtonInscribe(false);\r\n                    swal({\r\n                        title: \"Estas seguro?\",\r\n                        text: \"Una vez eliminada la inscripcin no saldr en tu calendar\",\r\n                        icon: \"warning\",\r\n                        buttons: true,\r\n                        dangerMode: true,\r\n                      })\r\n                      .then((willDelete) => {\r\n                        if (willDelete) {\r\n                          swal(\"La inscripcin ha sido cancelada exitosamente\", {\r\n                            icon: \"success\",\r\n                          });\r\n                        } else {\r\n                          swal(\"Intentalo mas tarde\");\r\n                        }\r\n                      });\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const students = props.studyroom.students.map((student) => {\r\n        return(\r\n        <li className=\"subTitles\">{student.name} - {student.email}</li>\r\n        );\r\n    })\r\n\r\n    const resources = props.studyroom.resources.map((resource) => {\r\n        return(\r\n            <li>\r\n                {resource.description}<br/>\r\n                <a href={resource.resource}>{resource.resource}</a><br/>\r\n                {resource.author}\r\n            </li>\r\n        );\r\n    })\r\n    return (\r\n    <>\r\n        <Modal \r\n            border=\"danger\"\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n            show={props.show} \r\n            onHide={props.handleClose}\r\n        >\r\n            <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                {props.studyroom.name} - \r\n                {new Intl.DateTimeFormat('en-US',{year: 'numeric', month: 'short', day: '2-digit'})\r\n                .format(new Date(Date.parse( props.studyroom.date)))}\r\n            </Modal.Title>\r\n            </Modal.Header>\r\n\r\n            <Modal.Body className=\"show-grid\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs={9} md={6}>\r\n                            <p>{props.studyroom.description}</p> \r\n                            <p>|| Duracin: {props.studyroom.duration} minutos || </p> \r\n                        </Col>\r\n                        <Col xs={9} md={6}>\r\n                            <h5><b>Estudiantes Inscritos</b></h5>\r\n                            {students}\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col xs={9} md={6}>\r\n                        \r\n                        </Col>\r\n                        <Col xs={9} md={6}>\r\n                            <h5><b>Recursos</b></h5>\r\n                            {resources}\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                    <div align=\"left\">Invita: {props.studyroom.ownerName}\r\n                    <br/> <p className=\"subTitles\">{props.studyroom.ownerEmail}</p></div>\r\n                    </Row>\r\n                </Container>             \r\n            </Modal.Body>\r\n            \r\n            <Modal.Footer id=\"StudyroomDetailsFooter\">\r\n                \r\n                <div id=\"ContainerAlert\">\r\n                <Row>\r\n                    \r\n                    {flagButtonInscribe\r\n                    ? <Button variant=\"primary\" onClick={() => handleInscribe()}>\r\n                            <BsFillPersonPlusFill id=\"iconAddSR\"/>\r\n                    </Button>\r\n                    : <Button id=\"removeSRButton\" variant=\"primary\" onClick={() => handleDelete()}>\r\n                            <BsFillPersonDashFill id=\"iconRemoveSR\"/>\r\n                    </Button>\r\n                    }\r\n                    \r\n                    <div id=\"TitleAlert\">\r\n                        Una vez confirmes asistencia recibiras el link de la reunin a tu correo\r\n                    </div>\r\n                </Row>\r\n                    \r\n                </div>\r\n            \r\n                <Button  onClick={props.handleClose}>\r\n                    X\r\n                </Button>\r\n            \r\n            </Modal.Footer>\r\n        </Modal>\r\n    </>\r\n    );\r\n  }\r\n\r\n  export default StudyRoomDetails;","import React from 'react';\r\nimport 'date-fns';\r\nimport { Button, Modal, Col, Form, Row} from \"react-bootstrap\";\r\nimport './StudyroomComponent.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n    MuiPickersUtilsProvider,\r\n    KeyboardTimePicker,\r\n    KeyboardDatePicker,\r\n  } from '@material-ui/pickers';\r\nimport {useUser} from 'reactfire'\r\nimport {createSR} from '../../shared/studyroomHelpers';\r\nimport swal from 'sweetalert';\r\n\r\nfunction CreateStudyRoom(props){\r\n\r\n    var user = useUser();\r\n\r\n    const [selectedDate, setSelectedDate] = React.useState(new Date('2020-10-20T21:11:54'));\r\n    const [selectedName, setSelectedName] = React.useState();\r\n    const [selectedDuration, setSelectedDuration] = React.useState(30);\r\n    const [selectedDescription, setSelectedDescription] = React.useState();\r\n\r\n    const handleDateChange = (date) => {\r\n        setSelectedDate(date);\r\n    };\r\n\r\n    const handleNameChange = (event) => {\r\n        setSelectedName(event.target.value);\r\n    }\r\n    const handleDurationChange = (event) => {\r\n        setSelectedDuration(event.target.value)\r\n    }\r\n    const handleDescriptionChange = (event) => {\r\n        setSelectedDescription(event.target.value)\r\n    }\r\n\r\n    function handleSubmit(event){\r\n        \r\n        createSR(selectedName,selectedDescription,\r\n                selectedDate.toISOString(),selectedDuration,\r\n                user.displayName,user.email,props.course_id, user.ya)\r\n        .then((res) => {\r\n            swal(\"Creando...\", user.displayName , \"success\");\r\n            props.renderice();\r\n            props.handleClose();\r\n\r\n        })\r\n        event.preventDefault();\r\n        \r\n    }\r\n\r\n    \r\n    return (\r\n       <>\r\n          <Modal show={props.show} onHide={props.handleClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Crea una sala de Estudio</Modal.Title>\r\n            </Modal.Header>\r\n            \r\n                <Form onSubmit={handleSubmit}>\r\n                <Modal.Body>\r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formGridTittle\">\r\n                        <Form.Label>Ttulo</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Ttulo\" onChange={handleNameChange}/>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridDuration\">\r\n                            <Form.Label>\r\n                                Duracin\r\n                                <t className=\"subTitles\"> (En minutos)</t>\r\n                            </Form.Label>\r\n                        <Form.Control as=\"select\"  defaultValue=\"30\" onChange={handleDurationChange}>\r\n                            <option>30</option>\r\n                            <option>45</option>\r\n                            <option>60</option>\r\n                            <option>75</option>\r\n                            <option>90</option>\r\n                            <option>120</option>\r\n                        </Form.Control>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n\r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formGridDate\">\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <KeyboardDatePicker\r\n                                margin=\"normal\"\r\n                                id=\"date-picker-dialog\"\r\n                                label=\"Fecha\"\r\n                                format=\"MM/dd/yyyy\"\r\n                                value={selectedDate}\r\n                                onChange={handleDateChange}\r\n                                KeyboardButtonProps={{\r\n                                    'aria-label': 'change date',\r\n                                }}\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formGridDate\">\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <KeyboardTimePicker\r\n                                    margin=\"normal\"\r\n                                    id=\"time-picker\"\r\n                                    label=\"Hora de Inicio\"\r\n                                    value={selectedDate}\r\n                                    onChange={handleDateChange}\r\n                                    KeyboardButtonProps={{\r\n                                        'aria-label': 'change time',\r\n                                    }}\r\n                                    />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n\r\n                    <Form.Group controlId=\"formGridDescription\">\r\n                        <Form.Label>Descripcin</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows=\"3\" onChange={handleDescriptionChange}/>\r\n                    </Form.Group>\r\n\r\n                </Modal.Body>\r\n                <Modal.Footer id=\"StudyroomDetailsFooter\">\r\n                    <Button type=\"submit\" variant=\"primary\">\r\n                        + Crear\r\n                    </Button>\r\n                </Modal.Footer>\r\n                </Form>\r\n            \r\n          </Modal>\r\n        </>\r\n      );\r\n}\r\nexport default CreateStudyRoom;\r\n","import React, {useState} from 'react';\r\nimport { Button, ListGroup, Col, Row} from \"react-bootstrap\";\r\nimport './StudyroomComponent.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport StudyRoomDetails from './StudyroomDetails';\r\nimport CreateStudyRoom from './CreateStudyRoom';\r\nimport {IoIosPeople} from \"react-icons/io\";\r\nfunction RenderStudyRoomItem({studyroom}){\r\n    \r\n    const [show, setShow] = useState(false);\r\n    \r\n    function handleClose() {setShow(false);}\r\n    function handleOpen() {setShow(true);}\r\n    return(\r\n        <ListGroup.Item id=\"SingleStudyRoom\" action variant=\"light\" onClick={handleOpen}>\r\n            <Row>\r\n            <Col xs={12} md={9}>\r\n                {studyroom.name}<br/>\r\n                {new Intl.DateTimeFormat('en-US',{year: 'numeric', month: 'short', day: '2-digit'})\r\n                .format(new Date(Date.parse(studyroom.date)))}\r\n                <StudyRoomDetails\r\n                    key={studyroom._id}\r\n                    studyroom={studyroom}\r\n                    show={show} \r\n                    handleClose={handleClose}       \r\n                />\r\n            </Col>\r\n            <Col xs={4} md={3} id=\"ColItemSingleSR\">\r\n                <div id=\"IconItemSingleSR\">\r\n                    <IoIosPeople size={32}/>\r\n                </div>\r\n                \r\n            </Col>\r\n            </Row>\r\n            \r\n        </ListGroup.Item>\r\n        \r\n    );\r\n}\r\n\r\nconst StudyRoom = (props) => { \r\n    const [show, setShow] = useState(false);\r\n    const [renderice, setRenderice] = useState(false);\r\n\r\n    function Renderice(){setRenderice(!renderice);}\r\n    function handleClose() {setShow(false);}\r\n    function handleOpen() {setShow(true);}\r\n\r\n    \r\n    // function handleCreateStudyRoom(props,event){\r\n    //     setShow(false);\r\n    //     alert(\"Name\" + props.name.value + \"Description\" + props.description.value +\r\n    //     \"Date\" + props.date.value + \"Duration: \" + props.duration.value);\r\n    //     event.preventDefault();\r\n    // }\r\n    const studyrooms = props.studyrooms.map((studyroom) => {\r\n        return(\r\n            <div key={studyroom._id} className=\"col\">\r\n                <RenderStudyRoomItem studyroom={studyroom} />\r\n            </div>\r\n        );\r\n    })\r\n\r\n    \r\n\r\n    return(\r\n        <div className=\"container\" id=\"StudyroomsContainer\" >\r\n            <div className=\"col\">\r\n     \r\n                    <ListGroup id=\"StudyroomsList\">\r\n                        <h3 id=\"StudyroomsTitle\">Study Rooms</h3>\r\n                        {studyrooms}\r\n                    </ListGroup>\r\n\r\n                    <Button id=\"CreateNewSRButton\"  onClick={handleOpen}> + New StudyRoom</Button>  \r\n                    <CreateStudyRoom\r\n                        show={show} \r\n                        handleClose={handleClose}   \r\n                        course_id={props.course_id}\r\n                        renderice={Renderice}\r\n                    />\r\n                \r\n            </div>\r\n            \r\n                 \r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nexport default StudyRoom;","import React, { useState, useEffect } from \"react\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\nimport Container from 'react-bootstrap/Container'\r\nimport \"./notes.styles.css\"\r\n\r\nconst Notes = (props) => {\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(4);\r\n\r\n  let items = [];\r\n  for (let number = 1; number <= Math.ceil(props.notes.length / postsPerPage); number++) {\r\n    items.push(\r\n      <Pagination.Item key={number} onClick={() => setCurrentPage(number)} active={number === currentPage}>\r\n        {number}\r\n      </Pagination.Item>\r\n    );\r\n  }\r\n\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n \r\n  const notes =  [...props.notes].reverse().map((row,i) => {\r\n    return (\r\n      <li className=\"card-element\" >\r\n    <a href=\"#\">\r\n    <h2 className=\"card-title\" >Note {i+1}</h2>\r\n      <p className=\"card-content\">{row.content}</p>\r\n    </a>\r\n  </li>\r\n    );\r\n  });\r\n\r\n  let currentNotes = notes.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n\r\n  return (\r\n    <Container style={{ textAlign: \"center\" }}>\r\n      <ul className=\"card-list\" >\r\n        {currentNotes}\r\n      </ul>\r\n      <Pagination  size=\"sm\">\r\n      <Pagination.First onClick={() => setCurrentPage(1)} />\r\n        {items}\r\n        <Pagination.Last onClick={() => setCurrentPage(Math.ceil(props.notes.length / postsPerPage))} />\r\n      </Pagination>\r\n    </Container>\r\n  );\r\n};\r\n\r\nfunction temporarySwap(array)\r\n{\r\n    var left = null;\r\n    var right = null;\r\n    var length = array.length;\r\n    for (left = 0, right = length - 1; left < right; left += 1, right -= 1)\r\n    {\r\n        var temporary = array[left];\r\n        array[left] = array[right];\r\n        array[right] = temporary;\r\n    }\r\n    return array;\r\n}\r\n\r\nexport default Notes;","import {getStudyRooms} from '../shared/studyroomHelpers';\r\nimport Background from '../assets/images/logo_n.png';\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport StudyRoom from \"./StudyRoomComponent/StudyroomComponent\";\r\nimport { STUDYROOMS } from \"../shared/studyrooms\";\r\nimport ForumList from \"../components/forumList\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\nimport Notes from \"../components/notesList/notes.component\";\r\nimport { getNotesByClass, createNote } from \"../helpers\";\r\nimport TopNav from \"../components/topNav/topNav.component\";\r\nimport SideBar from \"../components/side-bar/SideBar\";\r\nimport swal from 'sweetalert';\r\nclass Course extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      studyrooms: [],\r\n      course_id: this.props.match.params.course_id,\r\n      course_name: this.props.match.params.course_name,\r\n      notes: [],\r\n      notesPerPage: 2,\r\n      currentPage: 1,\r\n      showModalNote: false,\r\n      noteContent:\"\"\r\n    };\r\n  }\r\n\r\n  handlerSidebar = (key) => {\r\n    if(key == \"1\"){\r\n      this.props.history.push(\"/\");\r\n    }\r\n    if(key == \"2\"){\r\n      this.props.history.push(\"/resources/\"+this.state.course_id);\r\n    }\r\n    if(key == \"3\"){\r\n      this.props.history.push(\"/\");\r\n    }\r\n    if(key == \"4\"){\r\n      this.props.logout();\r\n      \r\n      this.props.history.push(\"/\");\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    getNotesByClass(this.state.course_id, this.props.userToken)\r\n      .then((res) => {\r\n        this.setState({ notes: res.data.data.getNotesByClass }, () =>\r\n          console.log(this.state.notes)\r\n        );\r\n      })\r\n      .catch();\r\n      \r\n      getStudyRooms(this.state.course_id, this.props.userToken)\r\n        .then((res) => {\r\n            this.setState({\r\n                studyrooms: res.data.data.get_study_rooms\r\n            })\r\n        })\r\n  }\r\n\r\n  handlerClick = () => {\r\n    const note = this.state.noteContent;\r\n    if(note.length <= 20 && note.length > 0){\r\n      createNote(note, this.state.course_id, this.props.userToken) \r\n      .then((res) => {\r\n        console.log(res);\r\n        swal(\"Creando Nota..!\", \"...\", \"success\");\r\n        const aux = {\r\n          id_note: 31,\r\n          content: note,\r\n          id_user: 2,\r\n          score: 0,\r\n          id_course: 1,\r\n        };\r\n        this.setState({ notes: [...this.state.notes, aux] });\r\n        this.setState({ showModalNote: false })\r\n      })\r\n      .catch();\r\n    } else {\r\n\r\n    }\r\n\r\n  };\r\n\r\n  render() {\r\n    const data = [\r\n      {\r\n        id: 1,\r\n        text: \"My Courses\",\r\n        icon: \"courses\",\r\n      },\r\n      {\r\n        id: 2,\r\n        text: \"Resources\",\r\n        icon: \"courses\",\r\n      },\r\n      {\r\n        id: 3,\r\n        text: \"Go Back\",\r\n        icon: \"back\",\r\n      },\r\n      {\r\n        id: 4,\r\n        text: \"Cerrar Sesin\",\r\n        icon: \"back\",\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n      <SideBar data={data} handler={this.handlerSidebar} />\r\n      <div className=\"content\">\r\n        <TopNav\r\n          handlerSearch={this.handlerSearch}\r\n          text=\"New Note\"\r\n          handlerClick={() => this.setState({ showModalNote: true })}\r\n        />\r\n         <h1 className=\"title\">\r\n            {this.state.course_name} \r\n          </h1>\r\n        <div className=\"row\">\r\n        {this.state.notes != null ? <Notes notes={this.state.notes} />: \"\" }  \r\n        </div>\r\n        <div className=\"row  mb-4\">\r\n          <div className=\"col mt-4\">\r\n            <ForumList course_id={this.state.course_id} />\r\n          </div>\r\n          <div className=\"col mt-4\">\r\n            <StudyRoom studyrooms={this.state.studyrooms} course_id={this.state.course_id}/>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          show={this.state.showModalNote}\r\n          onHide={() => {\r\n            this.setState({ showModalNote: false });\r\n          }}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Create New Note</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n              <Form.Label>Insert text</Form.Label>\r\n              <Form.Control as=\"textarea\" rows=\"3\" onChange={(e) => this.setState({noteContent:e.target.value})} />\r\n            </Form.Group>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={() => {\r\n                this.setState({ showModalNote: false });\r\n              }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={this.handlerClick}\r\n            >\r\n              Create\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Course);\r\n","import React, {useEffect, useState} from \"react\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Route, useHistory } from \"react-router-dom\";\r\nimport Forum from \"./views/forum/forum\";\r\nimport Login from \"./views/login\";\r\nimport Register from \"./views/register\";\r\nimport Courses from \"./views/courses\";\r\nimport Class from \"./views/class/class.component\";\r\nimport Course from \"./components/CourseComponent\";\r\nimport { useFirebaseApp, AuthCheck } from \"reactfire\";\r\nimport SideBar from \"./components/side-bar/SideBar\";\r\nimport { render } from \"@testing-library/react\";\r\nimport { withRouter, Switch } from \"react-router-dom\";\r\nimport {useUser} from 'reactfire'\r\n\r\nfunction App(props) {\r\n  const firebase = useFirebaseApp();\r\n  let user = useUser();\r\n  async function logout() {\r\n    await firebase.auth().signOut();\r\n  }\r\n\r\n  const [swReg, setswReg] = useState(0);\r\n\r\n  useEffect(() => {\r\n    navigator.serviceWorker.register(\"./serviceWorker.js\").then((reg) => {\r\n      console.log(\"registrado\");\r\n        setswReg(reg);\r\n        reg.pushManager.getSubscription()\r\n    });\r\n  });\r\n\r\n  return (\r\n    <Router>\r\n      <AuthCheck fallback={<Login swReg={swReg} />}>\r\n        <Route\r\n          exact\r\n          path=\"/course/:course_name/:course_id\"\r\n          component={() => <Course logout={logout} userToken={user != null ? user.ya:\"\"} />}\r\n        ></Route>\r\n        <Route exact path=\"/resources/:course_id\" component={() => <Class logout={logout}  userToken={user != null ? user.ya:\"\"} />}></Route>\r\n        <Route exact path=\"/forum/posts/:id\"  component={()=><Forum logout={logout} />}></Route>\r\n        <Route exact path=\"/\" component={() => <Courses swReg={swReg} logout={logout}  userToken={user != null ? user.ya:\"\"} />}></Route>\r\n      </AuthCheck>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React, { Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport firebaseConfig from './firebase-config'\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport $ from \"jquery\"\r\n\r\nimport {\r\n  FirebaseAppProvider\r\n} from 'reactfire'\r\n\r\nlet swReg;\r\nReactDOM.render(\r\n    <FirebaseAppProvider firebaseConfig={firebaseConfig}>\r\n      <Suspense fallback={'Conectando la aplicacin'}>\r\n        <BrowserRouter>\r\n        <App />\r\n        </BrowserRouter>\r\n      </Suspense>\r\n    </FirebaseAppProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// window.addEventListener(\"load\",() => {\r\n//   navigator.serviceWorker.register( \"./serviceWorker.js\" ).then((reg) => {\r\n//     console.log(\"registrado\");\r\n//       swReg=reg;\r\n//       swReg.pushManager.getSubscription()\r\n//   });\r\n// });\r\n\r\n","export default {\r\n    apiKey: \"AIzaSyBelgE2jMEQDSk4bzo5vgl7fcm03kpCIJ4\",\r\n    authDomain: \"westudy-3c433.firebaseapp.com\",\r\n    databaseURL: \"https://westudy-3c433.firebaseio.com\",\r\n    projectId: \"westudy-3c433\",\r\n    storageBucket: \"westudy-3c433.appspot.com\",\r\n    messagingSenderId: \"250931566022\",\r\n    appId: \"1:250931566022:web:dd5258143e0e3d1f4b0ec7\",\r\n    measurementId: \"G-PFE04WW5G3\"\r\n}"],"sourceRoot":""}