{"version":3,"sources":["images/logo.png","assets/images/logo_n.png","views/otherIcon.png","assets/images/logo.png","helpers.js","components/forumList.js","components/side-bar/StyledSideNav.jsx","components/side-bar/SideBar.jsx","views/forum/forum.js","views/login.js","views/courses.js","components/resource/resource.component.jsx","components/resourceList/resourceList.component.jsx","components/inputIcon/inputIcon.component.jsx","components/topNav/topNav.component.jsx","components/modalResource/modalResource.js","views/class/class.component.jsx","shared/studyroomHelpers.js","components/StudyRoomComponent/StudyroomDetails.js","components/StudyRoomComponent/CreateStudyRoom.js","components/StudyRoomComponent/StudyroomComponent.js","components/notesList/notes.component.jsx","components/CourseComponent.js","App.js","index.js","firebase-config.js"],"names":["module","exports","GraphQL_URL","LDAPAuthUser","email","password","Promise","resolve","reject","axios","post","query","variables","headers","then","res","catch","error","console","log","getForumsByCourse","id","token","a","promise","createPost","title","content","userCreator","userCreator_id","Error","RegisterUser","displayName","ForumList","course_id","user","useUser","React","useState","modalShow","setModalShow","showSuccessModal","setShowSuccessModal","NewForumModal","props","newForumName","setNewForumName","Modal","size","aria-labelledby","centered","Header","closeButton","Title","Body","Form","onSubmit","event","preventDefault","name","createForum","uid","ya","swal","style","margin","Group","controlId","Control","as","rows","placeholder","onChange","target","value","Button","type","backgroundColor","marginTop","String","_id","forums","setForums","useEffect","data","forumsData","map","item","forumList","index","length","push","Container","Row","Col","fontWeight","color","marginLeft","onClick","show","onHide","Card","ListGroup","maxHeight","overflow","forum","key","to","Item","action","variant","StyledSideNav","styled","SideNav","defaultProps","StyledToggle","Toggle","StyledNav","Nav","StyledNavItem","NavItem","NavIcon","StyledNavText","NavText","NavHeader","div","expanded","NavTitle","NavInfoPane","Separator","MyDiv","Image","className","src","Logo","height","fluid","display","fontSize","backgroundPosition","minHeight","xs","icon","faUserCircle","SideBar","state","navItems","this","row","eventKey","width","marginRight","alt","text","minWidth","onSelect","selected","handler","onToggle","setState","defaultSelected","Component","withRouter","useParams","commentsShow","toggleCommentsShow","newCommentContent","setCommentContent","newCommentCreator","newCommentPostID","setCommentpostID","newAnswerContent","setAnswerContent","newAnswerCreator","newAnswerPostID","setAnswerPostID","newAnswerCommentID","setAnswerCommentID","submitCommentHandler","idPost","createComment","changeCommentContentHandler","submitAnswerHandler","idComment","createAnswer","changeAnswerContentHandler","substr","deletePostFunction","idForum","deletePost","deleteCommentFunction","deleteComment","NewPostModal","newPostTitle","setPostTitle","newPostContent","setNewPostContent","marginBottom","comments","createdAt","Date","setForum","getForumPosts","getPosts","forumData","history","goBack","logout","comment","index2","setEmail","setPassword","showLogin","setShowLogin","useHistory","firebase","useFirebaseApp","login","status","auth","signInWithEmailAndPassword","result","alert","emailReg","setEmailReg","displayNameReg","setdisplayNameReg","passwordReg","setPasswordReg","maxWidth","textAlign","Label","e","surName","LDAPCreateUser","setShow","NewCourseModal","newCourseName","setNewCourseName","titulo","cuerpo","usuario","PushNotification","id_course","courses","setCourses","mail","teachers","setTeachers","teachersData","getTeachers","teachersList","getForums","getAllCourses","coursesData","coursesList","course","otherIcon","teacher","Resource","img","idUser","ResourceList","items","reverse","InputIcon","InputGroup","Prepend","Text","aria-describedby","required","TopNav","md","handlerClick","faPlusCircle","faSearch","handlerSearch","ModalResource","showModalNote","hideModal","update","Footer","Class","handlerSelect","handleShowModal","showModal","handleCloseModal","handlerSidebar","nameUser","note","noteContent","userToken","aux","resources","notes","match","params","allResourcesOfClass","getStudyRooms","StudyRoomDetails","flagButtonInscribe","SetflagButtonInscribe","handleInscribe","sr_id","student_name","student_picture","student_email","studyroom","handleDelete","students","student","student_id","buttons","dangerMode","willDelete","resource","description","href","author","border","handleClose","Intl","DateTimeFormat","year","month","day","format","parse","date","duration","align","ownerName","ownerEmail","CreateStudyRoom","selectedDate","setSelectedDate","selectedName","setSelectedName","selectedDuration","setSelectedDuration","selectedDescription","setSelectedDescription","handleDateChange","ownername","courseId","toISOString","renderice","defaultValue","utils","DateFnsUtils","label","KeyboardButtonProps","RenderStudyRoomItem","StudyRoom","setRenderice","studyrooms","Notes","currentPage","setCurrentPage","postsPerPage","number","Pagination","active","Math","ceil","indexOfLastPost","indexOfFirstPost","currentNotes","i","slice","First","Last","Course","id_note","id_user","score","course_name","notesPerPage","getNotesByClass","get_study_rooms","signOut","swReg","fallback","exact","path","component","ReactDOM","render","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","document","getElementById"],"mappings":"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","file":"static/js/main.dcfd90af.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.229c63a1.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_n.f70c1bc5.png\";","module.exports = __webpack_public_path__ + \"static/media/otherIcon.30b6e371.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.9c02cdde.png\";","import axios from \"axios\";\r\nimport {useUser} from 'reactfire'\r\n// IP's\r\nconst GraphQL_URL = \"https://52.71.79.75/graphql\"\r\n// var user = useUser();\r\n//URLS\r\n\r\n//Requests\r\n\r\n\r\n//soap\r\nexport const getTeachers = (token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          getTeachers{\r\n            name,\r\n            mail\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n// NOTIFICATIONS\r\nexport const SubscribeUser = (sus,token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation{\r\n            subscribeUser(subscription:{endpoint:\"${sus.endpoint}\",expirationTime:\"${sus.expirationTime}\",keys:{auth:\"${sus.keys.auth}\",p256dh:\"${sus.keys.p256dh}\"}})\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\nexport const PushNotification = (titulo, cuerpo, usuario, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation {\r\n            pushNotification(notification: {titulo: \"${titulo}\", cuerpo: \"${cuerpo}\", usuario: \"${usuario}\"}) {\r\n              titulo\r\n              cuerpo\r\n              usuario\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//LDAP\r\n\r\nexport const LDAPCreateUser = (email, name, surName, password) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation {\r\n            LDAPCreateUser(user: {email: \"${email}\", name: \"${name}\", surName: \"${surName}\", password: \"${password}\"}) {\r\n              status\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\nexport const LDAPAuthUser = (email, password) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          LDAPAuthUser(email:\"${email}\",password:\"${password}\"){\r\n            status\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n/* No la esta usando */\r\nexport const getForums = (token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          getForums{\r\n            name,\r\n            _id\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.data.getForums)\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//GetPosts\r\n//Ya\r\nexport const getForumsByCourse = async (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          query{\r\n            getForumsByCourse(course_id:\"${id}\"){\r\n              name,\r\n              _id\r\n            }\r\n          }\r\n          `,\r\n          variables: {}\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateForum\r\n//Ya\r\nexport const createForum = (userCreator, userCreator_id, course_id, name, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createForum(forum:{name:\"${name}\", userCreator:\"${userCreator}\", userCreator_id: \"${userCreator_id}\",course_id: \"${course_id}\"}){\r\n                  name\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateCourse\r\n//Ya\r\nexport const createCourse = (id, name, forum, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n            mutation{\r\n              createCourse(course:{id:${id}, name:\"${name}\", forum:\"${forum}\"}){\r\n                ok\r\n              }\r\n            }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//GetPosts\r\n/*const FORUM_IP = \"https://3.225.10.138:3000\"\r\nconst URL_FORUMS = `${FORUM_IP}/forums`;\r\n\r\n\r\nexport const getPosts = async (id) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .get(`${URL_FORUMS}/${id}`)\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};*/\r\n\r\nexport const getPosts = (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n        query{\r\n          getForumPosts(_idForum:\"${id}\"){\r\n            _id\r\n            title\r\n            content\r\n            userCreator\r\n            userCreator_id\r\n            forum_id\r\n            likes\r\n            comments{\r\n              _id\r\n              content\r\n              userCreator\r\n              userCreator_id\r\n              answer\r\n            }\r\n          }\r\n        }\r\n        `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(\"Esto es lo que imprime la petición\")\r\n        console.log(res.data.data.getForumPosts)\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreatePost\r\n//Ya\r\nexport const createPost = async (id, title, content, userCreator, userCreator_id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createPost(_idForum:\"${id}\", post:{title:\"${title}\", content:\"${content}\", userCreator:\"${userCreator}\", userCreator_id:\"${userCreator_id}\", forum_id:\"${id}\"}){\r\n                  content\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateComment\r\n//Ya\r\nexport const createComment = (id, idPost, content, userCreator, userCreator_id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createPostComment(_idForum:\"${id}\", _idPost:\"${idPost}\", postComment:{content:\"${content}\", userCreator:\"${userCreator}\", userCreator_id:\"${userCreator_id}\"}){\r\n                  content\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//CreateAnswer\r\n//Ya\r\nexport const createAnswer = (id, idPost, idComment, content, userCreator, userCreator_id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n                mutation{\r\n                  createCommentAnswer(_idForum:\"${id}\", _idPost:\"${idPost}\",_idComment:\"${idComment}\", answer:{content:\"${content}\", userCreator:\"${userCreator}\", userCreator_id:\"${userCreator_id}\"}){\r\n                    content\r\n                  }\r\n                }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//deletePost\r\n//Ya\r\nexport const deletePost = (idForum, idPost, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n            mutation{\r\n              deletePost(_idForum:\"${idForum}\", _idPost:\"${idPost}\"){\r\n                _id\r\n              }\r\n            }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//deleteComment\r\n//Ya\r\nexport const deleteComment = (idForum, idPost, idComment, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation{\r\n            deletePostComment(_idForum:\"${idForum}\", _idPost:\"${idPost}\", _idComment:\"${idComment}\"){\r\n              _id\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//deleteAnswer\r\n//Ya\r\nexport const deleteAnswer = (idForum, idPost, idComment, idAnswer, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n          mutation{\r\n            deleteCommentAnswer(_idForum:\"${idForum}\", _idPost:\"${idPost}\", _idComment:\"${idComment}\", _idAnswer:\"${idAnswer}\"){\r\n              _id\r\n            }\r\n          }\r\n            `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//Get all courses\r\n//Ya\r\nexport const getAllCourses = (token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n          query{\r\n            getAllCourses{\r\n              id_course,\r\n              name\r\n              \r\n            }\r\n          }\r\n          `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.data.getForums)\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n\r\n//Get notes by class\r\n//Ya\r\nexport const getNotesByClass = (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL, {\r\n        query: `\r\n          query{\r\n            getNotesByClass(id_course:${id}){\r\n              id_note\r\n              content\r\n              id_user\r\n              score\r\n              id_course\r\n            }\r\n          }\r\n          `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//\r\nexport const RegisterUser = (email, displayName, password) => {\r\n\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createUser(user:{email: \"${email}\", displayName: \"${displayName}\", password:\"${password}\"}){\r\n                  displayName \r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n}\r\n\r\n\r\n//Ya\r\nexport const createNote = (content, id_course,token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createNote(note:{content:\"${content}\",id_user:2,score:0,id_course:${id_course}}){\r\n                  ok\r\n                }\r\n              } \r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//Ya\r\nexport const getResources = (id_course,token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              query{\r\n                allResourcesOfClass(id:${id_course}){\r\n                  idUser\r\n                  content\r\n                }\r\n              }\r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//Ya\r\nexport const createResource = (content, id_course, nameUser, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n      .post(GraphQL_URL,\r\n        {\r\n          query: `\r\n              mutation{\r\n                createResource(resource:{idUser:\"${nameUser}\",idClase:${id_course},content:\"${content}\"}){\r\n                  message\r\n                  id\r\n                }\r\n              } \r\n              `\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(new Error(error));\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Link } from \"react-router-dom\";\r\nimport { getForumsByCourse, createForum } from '../helpers'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport {useUser} from 'reactfire'\r\nimport swal from 'sweetalert';\r\n\r\n\r\nconst ForumList = (course_id) => {\r\n  const user = useUser();\r\n  const [modalShow, setModalShow] = React.useState(false);\r\n  const [showSuccessModal, setShowSuccessModal] = React.useState(false);\r\n\r\n\r\n  function NewForumModal(props) {\r\n\r\n    const [newForumName, setNewForumName] = React.useState(\"\")\r\n\r\n    function submitHandler(event) {\r\n      event.preventDefault();\r\n      createForum(user.displayName,user.uid,course_id.course_id, newForumName, user.ya).then((res) => {\r\n        swal(\"Creando Foro..!\", \"...\",  \"success\");\r\n        setModalShow(false)\r\n        setShowSuccessModal(!showSuccessModal)\r\n      })\r\n    }\r\n\r\n    function changeNameHandler(event) {\r\n      event.preventDefault();\r\n      setNewForumName(event.target.value)\r\n    }\r\n\r\n\r\n    return (\r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Nuevo foro\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n\r\n          <Form onSubmit={submitHandler} style={{ margin: \"3%\" }}>\r\n            <Form.Group controlId=\"postTitle\">\r\n              <Form.Control as=\"textarea\" rows=\"1\" placeholder=\"Título del foro\" onChange={changeNameHandler} />\r\n            </Form.Group>\r\n            <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >Crear foro</Button>\r\n          </Form>\r\n\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n\r\n\r\n  const [forums, setForums] = React.useState([{\r\n    value: {\r\n      name: String,\r\n      _id: String,\r\n      course_id: String,\r\n    }\r\n  }])\r\n\r\n\r\n  useEffect(() => {\r\n    getForumsByCourse(course_id.course_id, user.ya).then((res) => {\r\n      console.log(res.data.data)\r\n      console.log(course_id.course_id)\r\n      const forumsData = res.data.data.getForumsByCourse.map((item) => ({\r\n        //const forumsData = res.data.map((item) => ({\r\n        value: item,\r\n      }));\r\n      const forumList = [];\r\n      for (let index = 0; index < forumsData.length; index++) {\r\n        forumList.push(forumsData[index])\r\n        \r\n      }\r\n      setForums(forumList)\r\n    }).catch()\r\n  }, [showSuccessModal])\r\n\r\n  return (\r\n    <Container>\r\n          <Row>\r\n            <Col>\r\n              <h3 style={{ fontWeight: \"bold\", color: \"#5E90F2\" }}>Forums</h3>\r\n            </Col>\r\n            <Col>\r\n              <Button style={{ marginLeft: \"30%\", backgroundColor: \"#5E90F2\" }} onClick={() => setModalShow(true)}>\r\n                Crear un nuevo foro\r\n            </Button>\r\n              <NewForumModal\r\n                show={modalShow}\r\n                onHide={() => setModalShow(false)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Card style={{ marginTop: \"5%\" }} >\r\n            <ListGroup style={{ maxHeight: \"250px\", overflow: \"scroll\" }}>\r\n              {forums.map((forum, index) =>\r\n                <Link key={index} to={\"/forum/posts/\" + forum.value._id}><ListGroup.Item action variant=\"light\">{forum.value.name}</ListGroup.Item></Link>\r\n              )}\r\n            </ListGroup>\r\n          </Card>\r\n    </Container>\r\n  )\r\n}\r\nexport default ForumList;\r\n","import styled from 'styled-components';\r\nimport SideNav, {\r\n    Toggle,\r\n    Nav,\r\n    NavItem,\r\n    NavIcon,\r\n    NavText\r\n} from '@trendmicro/react-sidenav';\r\n\r\n\r\n// SideNav\r\nconst StyledSideNav = styled(SideNav)`\r\n    background-color: #fff;\r\n    border-right: 1px solid #ddd;\r\n`;\r\nStyledSideNav.defaultProps = SideNav.defaultProps;\r\n\r\n// Toggle\r\nconst StyledToggle = styled(Toggle)`\r\n    background-color: rgba(132,94,194,0.5);\r\n`;\r\nStyledToggle.defaultProps = Toggle.defaultProps;\r\n\r\n// Nav\r\nconst StyledNav = styled(Nav)`\r\n    background-color: #fff;\r\n    &&[class*=\"expanded--\"] {\r\n        [class*=\"sidenav-subnav--\"] {\r\n            > [class*=\"sidenav-subnavitem--\"],\r\n            > [class*=\"sidenav-subnavitem--\"]:hover {\r\n                > [class*=\"navitem--\"] {\r\n                    color: #222;\r\n                }\r\n            }\r\n            > [class*=\"sidenav-subnavitem--\"]:hover {\r\n                > [class*=\"navitem--\"] {\r\n                    background-color: #eee;\r\n                }\r\n            }\r\n            > [class*=\"sidenav-subnavitem--\"][class*=\"selected--\"] {\r\n                > [class*=\"navitem--\"] {\r\n                    color: #db3d44;\r\n                }\r\n                > [class*=\"navitem--\"]::before {\r\n                    border-left: 2px solid #db3d44;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"] {\r\n        > [class*=\"navitem--\"] {\r\n            background-color: inherit;\r\n            color: #222;\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"]:hover {\r\n        > [class*=\"navitem--\"] {\r\n            background-color: #fff;\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"],\r\n    && > [class*=\"sidenav-navitem--\"]:hover {\r\n        > [class*=\"navitem--\"] {\r\n            [class*=\"navicon--\"] {\r\n                &, > * {\r\n                    color: #666;\r\n                }\r\n            }\r\n            [class*=\"sidenav-nav-text--\"] {\r\n                &, > * {\r\n                    color: #222;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    && > [class*=\"sidenav-navitem--\"][class*=\"highlighted--\"],\r\n    && > [class*=\"sidenav-navitem--\"][class*=\"highlighted--\"]:hover {\r\n        > [class*=\"navitem--\"] {\r\n            [class*=\"navicon--\"],\r\n            [class*=\"navtext--\"] {\r\n                &, > * {\r\n                    color: #845EC2;\r\n                }\r\n            }\r\n            [class*=\"sidenav-nav-text--\"] {\r\n                font-weight: 700;\r\n            }\r\n        }\r\n    }\r\n`;\r\nStyledNav.defaultProps = Nav.defaultProps;\r\n\r\n// NavItem\r\nconst StyledNavItem = styled(NavItem)`\r\n    &&&:hover {\r\n        [class*=\"navtext--\"] {\r\n            color: #222;\r\n        }\r\n    }\r\n`;\r\nStyledNavItem.defaultProps = NavItem.defaultProps;\r\n\r\n// NavIcon\r\nconst StyledNavIcon = styled(NavIcon)`\r\n    color: #222;\r\n`;\r\nStyledNavIcon.defaultProps = NavIcon.defaultProps;\r\n\r\n// NavText\r\nconst StyledNavText = styled(NavText)`\r\n    color: #fff;\r\n`;\r\nStyledNavText.defaultProps = NavText.defaultProps;\r\n\r\nexport {\r\n    StyledToggle as Toggle,\r\n    StyledNav as Nav,\r\n    StyledNavItem as NavItem,\r\n    StyledNavIcon as NavIcon,\r\n    StyledNavText as NavText\r\n};\r\nexport default StyledSideNav;","import React from \"react\";\r\nimport SideNav, {Nav, NavItem, NavText, Toggle} from './StyledSideNav';\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport styled from 'styled-components';\r\nimport {Col, Image, Row} from \"react-bootstrap\";\r\nimport Logo from \"../../assets/images/logo_n.png\";\r\nimport {faUserCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./SideBar.styles.css\"\r\nimport {useUser} from 'reactfire'\r\nimport { isFuture } from \"date-fns\";\r\n\r\n// const navWidthCollapsed = 64;\r\nconst navWidthExpanded = 250;\r\n\r\nconst NavHeader = styled.div`\r\n    display: ${props => (props.expanded ? 'block' : 'none')};\r\n    white-space: nowrap;    \r\n    color: #fff;\r\n    > * {\r\n        color: inherit;\r\n        background-color: inherit;\r\n    }\r\n`;\r\n\r\n// height: 20px + 10px + 10px = 40px\r\nconst NavTitle = styled.div`\r\n    font-size: 1.5em;\r\n    line-height: 20px;\r\n    padding: 20px 0;\r\n`;\r\n\r\nconst NavInfoPane = styled.div`\r\n    float: left;\r\n    width: 100%;\r\n    padding: 5px 20px;\r\n    background-color: rgb(214,93,177,0.5);\r\n`;\r\n\r\nconst Separator = styled.div`\r\n    clear: both;\r\n    position: relative;\r\n    margin: 0;\r\n    background-color: #ddd;\r\n    height: 1px;\r\n`;\r\n\r\nconst MyDiv = ({expanded}) => {\r\n\r\n    var user = useUser();\r\n  \r\n    if(user != null){\r\n        return(\r\n            <NavHeader expanded={expanded} style={{backgroundColor: \"#fff\"}}>\r\n            <NavTitle>\r\n                <i><Image className={\"ml-2 mb-1\"} src={Logo} style={{height: \"60px\"}} fluid/></i>\r\n                <p style={{display: \"inline\", fontSize: \"25px\", marginLeft: \"35px\", color: \"#5E90F2 \"}}\r\n                   className={\"mt-2\"}>WeStudy </p>\r\n            </NavTitle>\r\n            <NavInfoPane style={{backgroundColor: \"#5E90F2\", backgroundPosition: \"center\", minHeight: \"50px\"}}>\r\n                <Row>\r\n                    <Col xs={3}>\r\n                        <FontAwesomeIcon icon={faUserCircle}\r\n                                         style={{fontSize: \"3em\", marginTop: \"15px\", color: \"#fff\"}}/>\r\n                    </Col>\r\n                    <Col >\r\n                    \r\n                        <p className={\"mt-3\"} style={{fontWeight: \"bold\", color: \"#fff\"}}>  {user.displayName != null ? user.displayName:\"\" } </p>\r\n                        <p style={{marginTop: \"-15px\", color: \"#fff\"}}> {user.email != null ? user.email:\"\" } </p>\r\n                    </Col>\r\n                </Row>\r\n                <hr/>\r\n            </NavInfoPane>  \r\n        </NavHeader>\r\n            );\r\n    } else {\r\n        return(\r\n            <div></div>\r\n        )\r\n    }\r\n      \r\n }\r\n\r\nclass SideBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: true  \r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {expanded} = this.state;\r\n        const navItems = this.props.data.map((row) => {\r\n            return (\r\n                <NavItem eventKey={row.id} key={row.id} style={{height: \"60px\",backgroundColor: \"#5E90F2\"}}\r\n                         className={\"mt-0\"}>\r\n                    <NavText style={{color: \"#fff\", display: \"true\",backgroundColor: \"#5E90F2\", fontSize:\"18px\"}}>\r\n                        <img src={\"/icons/\"+row.icon+\".png\"} style={{width: \"20px\", color: \"#fff\", marginRight: \"10px\", marginLeft:\"70px\"}} alt=\"\"/>\r\n                        {row.text}\r\n                    </NavText>\r\n                    <Separator className={\"mt-2\"} />\r\n                </NavItem>\r\n\r\n            );\r\n        });\r\n        return (\r\n            <SideNav\r\n                className=\"sticky\"\r\n                style={{minWidth: expanded ? navWidthExpanded : navWidthExpanded, backgroundColor:\"#5E90F2\"}}\r\n                onSelect={(selected) => {\r\n                    this.props.handler(selected);\r\n                }}\r\n                onToggle={() => {\r\n                    this.setState({expanded: true});\r\n                }}\r\n\r\n            >\r\n                <Toggle style={{backgroundColor: expanded ? \"#A30021\" : \"#A30021\", height: \"57px\", display: \"none\"}}/>\r\n                <MyDiv expanded={true} />\r\n                <Nav defaultSelected=\"home\" style={{backgroundColor: \"#5E90F2\"}}>\r\n                    {navItems}\r\n                </Nav>\r\n            </SideNav>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default SideBar;","import React, { useEffect, useState } from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Container from 'react-bootstrap/Container'\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { getPosts, createPost, createComment, createAnswer, deletePost, deleteComment, deleteAnswer } from '../../helpers'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport ForumList from '../../components/forumList'\r\nimport { useUser } from 'reactfire'\r\nimport SideBar from \"../../components/side-bar/SideBar\"\r\nimport { withRouter } from \"react-router\";\r\nimport { IoIosTrash } from \"react-icons/io\";\r\nimport swal from 'sweetalert';\r\n\r\n\r\n\r\n\r\nconst Forum = (props) => {\r\n\r\n    const user = useUser();\r\n    const id = useParams().id; //forum id\r\n    const [modalShow, setModalShow] = React.useState(false);\r\n    const [commentsShow, toggleCommentsShow] = useState(false);\r\n    const [answersShow, toggleAnswersShow] = useState(false);\r\n    const [showSuccessModal, setShowSuccessModal] = React.useState(false);\r\n\r\n    const [newCommentContent, setCommentContent] = React.useState(\"\")\r\n    //const [newCommentCreator, setCommentCreator] = React.useState(\"\")\r\n    const newCommentCreator = user.displayName\r\n    const [newCommentPostID, setCommentpostID] = React.useState(\"\")\r\n\r\n    const [newAnswerContent, setAnswerContent] = React.useState(\"\")\r\n    //const [newAnswerCreator, setAnswerCreator] = React.useState(\"\")\r\n    const newAnswerCreator = user.displayName\r\n    const [newAnswerPostID, setAnswerPostID] = React.useState(\"\")\r\n    const [newAnswerCommentID, setAnswerCommentID] = React.useState(\"\")\r\n\r\n    function submitCommentHandler(event) {\r\n        event.preventDefault();\r\n        createComment(id, newCommentPostID, newCommentContent, newCommentCreator, user.uid, user.ya).then((res) => {\r\n            console.log(res)\r\n            setModalShow(false)\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function changeCommentContentHandler(event) {\r\n        event.preventDefault();\r\n        setCommentContent(event.target.value)\r\n        setCommentpostID(event.target.name)\r\n    }\r\n\r\n    function submitAnswerHandler(event) {\r\n        event.preventDefault();\r\n        createAnswer(id, newAnswerPostID, newAnswerCommentID, newAnswerContent, newAnswerCreator, \"0\", user.ya).then((res) => {\r\n            console.log(res)\r\n            setModalShow(false)\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function changeAnswerContentHandler(event) {\r\n        event.preventDefault();\r\n        setAnswerContent(event.target.value)\r\n        setAnswerPostID(event.target.name.substr(0, 24))\r\n        setAnswerCommentID(event.target.name.substr(25, 50))\r\n    }\r\n\r\n    function deletePostFunction(idPost) {\r\n        deletePost(id, idPost, user.ya).then((res) => {\r\n            swal(\"Eliminando publicación..!\", \"...\", \"success\");\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function deleteCommentFunction(idPost, idComment) {\r\n        deleteComment(id, idPost, idComment, user.ya).then((res) => {\r\n            swal(\"Eliminando comentario..!\", \"...\", \"success\");\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n    function deleteAnswerFunction(idPost, idComment, idAnswer) {\r\n        deleteAnswer(id, idPost, idComment, idAnswer, user.ya).then((res) => {\r\n            swal(\"Eliminando respuesta..!\", \"...\", \"success\");\r\n            setShowSuccessModal(!showSuccessModal)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    function NewPostModal(props) {\r\n\r\n        const [newPostTitle, setPostTitle] = React.useState(\"\")\r\n        const [newPostContent, setNewPostContent] = React.useState(\"\")\r\n        const [newPostCreator, setNewPostCreator] = React.useState(\"\")\r\n\r\n        function submitPostHandler(event) {\r\n            event.preventDefault();\r\n            createPost(id, newPostTitle, newPostContent, user.displayName, \"0\", user.ya).then((res) => {\r\n                console.log(res)\r\n                setModalShow(false)\r\n                setShowSuccessModal(!showSuccessModal)\r\n            })\r\n        }\r\n\r\n        function changePostTitleHandler(event) {\r\n            event.preventDefault();\r\n            setPostTitle(event.target.value)\r\n        }\r\n\r\n        function changePostContentHandler(event) {\r\n            event.preventDefault();\r\n            setNewPostContent(event.target.value)\r\n        }\r\n\r\n\r\n        return (\r\n            <Modal\r\n                {...props}\r\n                size=\"lg\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title style={{ color: \"#5E90F2\", marginBottom: \"2%\" }} id=\"contained-modal-title-vcenter\">\r\n                        Nueva publicación\r\n              </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form onSubmit={submitPostHandler} style={{ margin: \"3%\" }}>\r\n                        <Form.Group controlId=\"postTitle\">\r\n                            <Form.Control as=\"textarea\" rows=\"1\" placeholder=\"Título\" onChange={changePostTitleHandler} />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"postTextarea1\">\r\n                            <Form.Control as=\"textarea\" rows=\"3\" placeholder=\"Contenido de la publicación\" onChange={changePostContentHandler} />\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >\r\n                            Publicar\r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n\r\n    const [forum, setForum] = useState([{\r\n        _id: String,\r\n        title: String,\r\n        content: String,\r\n        userCreator: String,\r\n        comments: [{\r\n            _id: String,\r\n            content: String,\r\n            userCreator: String,\r\n            createdAt: Date,\r\n        }]\r\n    }])\r\n\r\n\r\n    useEffect(() => {\r\n        getPosts(id, user.ya).then((res) => {\r\n            console.log(res.data.data.getForumPosts);\r\n            const forumData = res.data.data.getForumPosts;\r\n            setForum(forumData)\r\n        }).catch()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [showSuccessModal])\r\n\r\n    console.log(forum)\r\n\r\n    const handlerSidebar = (key) => {\r\n        if (key == \"1\") {\r\n            props.history.push(\"/\");\r\n        }\r\n        if (key == \"2\") {\r\n            props.history.goBack();\r\n        }\r\n        if (key == \"3\") {\r\n            props.logout();\r\n            props.history.push(\"/\");\r\n        }\r\n    }\r\n\r\n    const data = [\r\n        {\r\n            id: 1,\r\n            text: \"My Courses\",\r\n            icon: \"courses\",\r\n        },\r\n        {\r\n            id: 2,\r\n            text: \"Go Back\",\r\n            icon: \"back\",\r\n        },\r\n        {\r\n            id: 3,\r\n            text: \"Cerrar Sesión\",\r\n            icon: \"back\",\r\n        },\r\n    ];\r\n    return (\r\n        <div>\r\n            <SideBar data={data} handler={handlerSidebar} />\r\n            <div className=\"content\" style={{ margin: '5%' }}>\r\n                <Row>\r\n\r\n                    <Col>\r\n                        <Button style={{ backgroundColor: \"#5E90F2\", marginLeft: \"70%\" }} onClick={() => setModalShow(true)}>\r\n                            Añadir publicación\r\n                </Button>\r\n                        <NewPostModal\r\n                            show={modalShow}\r\n                            onHide={() => setModalShow(false)}\r\n                        />\r\n                    </Col>\r\n                </Row>  \r\n                <ListGroup>\r\n                    {forum && forum.map((post, index) =>\r\n\r\n                        <Card style={{ marginBottom: '2%', backgroundColor: \"#5E90F2\" }}>\r\n                            <Card.Header style={{ color: \"white\", fontWeight: \"bold\" }}>{post.title} | {post.userCreator}</Card.Header>\r\n\r\n                            <ListGroup.Item key={index} >\r\n                                <p style={{ marginBottom: \"5%\" }}>{post.content}</p>\r\n                                {post.comments.length !== 0 && !commentsShow && <Link style={{ color: \"#5E90F2\" }} onClick={() => toggleCommentsShow(true)}>Mostrar comentarios: {post.comments.length}</Link>}\r\n                                {commentsShow && <Link style={{ color: \"#5E90F2\" }} onClick={() => toggleCommentsShow(false)}>Esconder comentarios</Link>}\r\n\r\n                                {commentsShow && forum[index].comments.map((comment, index2) =>\r\n\r\n                                    <ListGroup.Item style={{ marginBottom: \"2%\", marginTop: \"1%\" }} key={index2} >\r\n                                        <p style={{ fontWeight: \"lighter\" }}>{comment.userCreator} | {String(comment.createdAt).substr(0, 10)}</p>\r\n                                        <p>{comment.content}</p>\r\n                                   \r\n                                       <Form onSubmit={submitAnswerHandler} style={{ marginTop: \"1%\" }}>\r\n                                            <Form.Group controlId=\"answerTextarea1\" onChange={changeAnswerContentHandler}>\r\n                                                {user.displayName === comment.userCreator && <Button onClick={() => { deleteCommentFunction(post._id, comment._id) }} style={{ backgroundColor: \"#FE4A49\", marginLeft: \"1%\", marginTop: \"1%\" }} >\r\n                                                    <IoIosTrash size={20} />\r\n                                                </Button>}\r\n                                            </Form.Group>\r\n                                        </Form>\r\n                                    </ListGroup.Item>\r\n                                )}\r\n                                <Form onSubmit={submitCommentHandler} style={{ marginTop: \"1%\" }}>\r\n                                    <Form.Group controlId=\"commentTextarea1\" onChange={changeCommentContentHandler}>\r\n                                        <Form.Control name={post._id} as=\"textarea\" rows=\"3\" />\r\n                                        <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >\r\n                                            Comentar\r\n                                  </Button>\r\n                                        {user.displayName === post.userCreator && <Button onClick={() => { deletePostFunction(post._id) }} style={{ backgroundColor: \"#FE4A49\", marginLeft: \"1%\", marginTop: \"1%\" }} >\r\n                                            <IoIosTrash size={20} />\r\n                                        </Button>}\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </ListGroup.Item>\r\n                        </Card>\r\n\r\n                    )}\r\n                </ListGroup>\r\n            </div>\r\n        </ div>\r\n    )\r\n}\r\nexport default withRouter(Forum);\r\n","import React, {useState} from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Logo from '../images/logo.png'\r\nimport { render } from '@testing-library/react';\r\nimport 'firebase/auth'\r\nimport {useFirebaseApp} from 'reactfire'\r\nimport { RegisterUser, LDAPAuthUser, LDAPCreateUser, SubscribeUser } from '../helpers';\r\n\r\n\r\nexport default (props) =>{\r\n    const [email, setEmail] = React.useState(\"\")\r\n    const [password, setPassword] = React.useState(\"\")\r\n    const [showLogin, setShowLogin] = React.useState(true)\r\n\r\n    const history = useHistory()\r\n    const firebase = useFirebaseApp();\r\n\r\n    const login = async()=>{\r\n        LDAPAuthUser(email, password).then((res) => {\r\n            console.log(res)\r\n            if(res.data.data.LDAPAuthUser.status == true){\r\n                 firebase.auth().signInWithEmailAndPassword(email,password).then(function(result) {\r\n                    history.push(\"/\")\r\n                  }).catch(function(error) {\r\n                    alert(\"no login\")\r\n                  });\r\n            }else{\r\n                alert(\"First auth not working\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const [emailReg, setEmailReg] = React.useState(\"\")\r\n    const [displayNameReg, setdisplayNameReg] = React.useState(\"\")\r\n    const [passwordReg, setPasswordReg] = React.useState(\"\")\r\n\r\n    function handleSubmit(event){\r\n\r\n        LDAPCreateUser(emailReg, displayNameReg,displayNameReg, passwordReg ).then((res) => {\r\n            if(res.data.data.LDAPCreateUser.status){\r\n                RegisterUser(emailReg,displayNameReg, passwordReg).then((res) => {\r\n                    console.log(res);\r\n                    setShowLogin(true);\r\n                    setEmailReg(\"\");\r\n                    setdisplayNameReg(\"\")\r\n                    setPasswordReg(\"\")\r\n                 }).catch(function(error) {\r\n                    alert(\"Register not working\")\r\n                  });\r\n            }else{\r\n                alert(\"First register not working\")\r\n            }\r\n        })\r\n        event.preventDefault();\r\n    }\r\n\r\n    const logout = async () =>{\r\n        await firebase.auth().signOut();\r\n    }\r\n\r\n    function getPublicKey(){\r\n        // return fetch(\"http://ec2-54-92-227-88.compute-1.amazonaws.com:3005/api/key\").then(res => res.arrayBuffer())\r\n        //     .then(key => new Uint8Array(key))\r\n        return new Uint8Array([4, 228, 238, 51, 173, 81, 218, 100, 221, 83, 177, 211, 48, 44, 205, 72, 48, 128, 62, 78, 248, 163, 242, 34, 68, 14, 40, 201, 63, 212, 223, 225, 178, 83, 43, 33, 112, 84, 173, 215, 164, 134, 168, 104, 19, 228, 145, 183, 221, 220, 140, 10, 40, 33, 19, 218, 13, 152, 206, 214, 73, 152, 201, 72, 60])\r\n      }\r\n\r\n    // const sus = async() =>{ \r\n    //     let key = getPublicKey();\r\n    //         console.log(key);\r\n    //         props.swReg.pushManager.subscribe({\r\n    //             userVisibleOnly:true,\r\n    //             applicationServerKey:key\r\n    //         }).then(res => res.toJSON()).then(sus => {\r\n    //             console.log(JSON.stringify(sus));\r\n    //             SubscribeUser(sus,user.ya).then((res) => {\r\n    //                 console.log(\"listo!\")\r\n    //             })\r\n    //         })\r\n       \r\n    // }\r\n\r\n    return (\r\n        <div>\r\n            <div style={{display: showLogin ? \"block\":\"none\"}} >\r\n            <Container style={{ maxWidth: \"500px\" }}>\r\n                <div style={{ textAlign: \"center\" }}>\r\n                    <img src={Logo} alt=\"Logo WeStudy\" style={{ width: \"35%\", height: \"35%\", marginBottom: \"5%\", marginTop: \"10%\", }} />\r\n                </div>\r\n                <Form>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Label>Correo electrónico</Form.Label>\r\n                        <Form.Control type=\"email\" placeholder=\"Ingresar correo electrónico\" onChange={(e) => setEmail(e.target.value)} />\r\n                    </Form.Group>\r\n    \r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"Contraseña\" onChange={(e) => setPassword(e.target.value)} />\r\n                        <Button style={{ marginTop: \"2%\", width: \"100%\" }} variant=\"primary\" onClick={login}>\r\n                            Ingresar\r\n                     </Button>\r\n                    </Form.Group>\r\n                    <div style={{ textAlign: \"center\" }}>\r\n                        <Button variant=\"link\" onClick={() => setShowLogin(false)} >\r\n                            Registrarse\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </Container>\r\n            </div>\r\n            <div style={{display: showLogin ? \"none\":\"block\"}}>\r\n            <Container style={{ maxWidth: \"500px\" }}>\r\n            <div style={{ textAlign: \"center\" }}>\r\n                <img src={Logo} alt=\"Logo WeStudy\" style={{ width: \"35%\", height: \"35%\", marginBottom: \"5%\", marginTop: \"10%\", }} />\r\n            </div>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group controlId=\"formBasicName\">\r\n                    <Form.Label>Nombre</Form.Label>\r\n                    <Form.Control type=\"displayName\" value={displayNameReg} placeholder=\"Ingresar su nombre\" onChange={(e) => setdisplayNameReg(e.target.value)}/>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Correo electrónico</Form.Label>\r\n                    <Form.Control type=\"email\"  value={emailReg} placeholder=\"Ingresar correo electrónico\" onChange={(e) => setEmailReg(e.target.value)}/>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Contraseña\"  value={passwordReg} onChange={(e) => setPasswordReg(e.target.value)}/>\r\n                    <Button style={{ marginTop: \"2%\", width: \"100%\" }} variant=\"primary\" type=\"submit\" >\r\n                        Registrarse\r\n                 </Button>\r\n                </Form.Group>\r\n                <div style={{ textAlign: \"center\" }}>\r\n                <Button variant=\"link\" onClick={() => setShowLogin(true)} >\r\n                            Iniciar Sesión\r\n                        </Button>\r\n                        </div>\r\n            </Form>\r\n        </Container>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { getAllCourses, createCourse, PushNotification, SubscribeUser, getTeachers } from '../helpers'\r\nimport { Link } from \"react-router-dom\";\r\nimport SideBar from \"../components/side-bar/SideBar\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { withRouter } from \"react-router\";\r\nimport swal from 'sweetalert';\r\nimport { useUser } from 'reactfire'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport otherIcon from \"./otherIcon.png\"\r\n\r\n\r\n\r\nconst Courses = (props) => {\r\n\r\n    const [show, setShow] = React.useState(false);\r\n    var user = useUser();\r\n\r\n    function getPublicKey() {\r\n        // return fetch(\"http://ec2-54-92-227-88.compute-1.amazonaws.com:3005/api/key\").then(res => res.arrayBuffer())\r\n        //     .then(key => new Uint8Array(key))\r\n        return new Uint8Array([4, 228, 238, 51, 173, 81, 218, 100, 221, 83, 177, 211, 48, 44, 205, 72, 48, 128, 62, 78, 248, 163, 242, 34, 68, 14, 40, 201, 63, 212, 223, 225, 178, 83, 43, 33, 112, 84, 173, 215, 164, 134, 168, 104, 19, 228, 145, 183, 221, 220, 140, 10, 40, 33, 19, 218, 13, 152, 206, 214, 73, 152, 201, 72, 60])\r\n    }\r\n\r\n    const sus = async () => {\r\n        let key = getPublicKey();\r\n        console.log(key);\r\n        if (props.swReg.pushManager != null) {\r\n            props.swReg.pushManager.subscribe({\r\n                userVisibleOnly: true,\r\n                applicationServerKey: key\r\n            }).then(res => res.toJSON()).then(sus => {\r\n                console.log(JSON.stringify(sus));\r\n                SubscribeUser(sus, user.ya).then((res) => {\r\n                    console.log(\"listo!\")\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    function NewCourseModal(props) {\r\n\r\n        const [newCourseName, setNewCourseName] = React.useState(\"\")\r\n\r\n        function submitHandler(event) {\r\n            event.preventDefault();\r\n            createCourse(1, newCourseName, \"0\", user.ya).then((res) => {\r\n                swal(\"Creando Curso..!\", \"...\", \"success\");\r\n                setModalShow(false)\r\n                setShow(!show)\r\n                PushNotification(newCourseName, 'Nuevo Curso creado', user.displayName, user.ya).then((res) => {\r\n                    swal(\"Notificando a tus compañeros\", \"...\", \"success\");\r\n                })\r\n            })\r\n        }\r\n\r\n        function changeNameHandler(event) {\r\n            event.preventDefault();\r\n            setNewCourseName(event.target.value)\r\n        }\r\n\r\n\r\n        return (\r\n            <Modal\r\n                {...props}\r\n                size=\"lg\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        Nuevo curso\r\n              </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n\r\n                    <Form onSubmit={submitHandler} style={{ margin: \"3%\" }}>\r\n                        <Form.Group controlId=\"postTitle\">\r\n                            <Form.Control as=\"textarea\" rows=\"1\" placeholder=\"Título del foro\" onChange={changeNameHandler} />\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }} >Crear curso</Button>\r\n                    </Form>\r\n\r\n                </Modal.Body>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n\r\n    const [modalShow, setModalShow] = React.useState(false);\r\n    const [courses, setCourses] = React.useState([{\r\n        value:\r\n        {\r\n            id_course: String,\r\n            name: String\r\n        }\r\n    }])\r\n    const [teachers, setTeachers] = React.useState([{\r\n        value: {\r\n            name: String,\r\n            mail: String\r\n        }\r\n    }])\r\n\r\n    useEffect(() => {\r\n    //     if(Notification.permission != \"granted\"){\r\n    //        Notification.requestPermission((e) => {\r\n    //            if(e == \"granted\"){\r\n    //                sus();\r\n    //            }\r\n    //        });\r\n    //    }\r\n        getTeachers(user.ya).then((res) => {\r\n            //console.log(res.data.data.getTeachers)\r\n            const teachersData = res.data.data.getTeachers.map((item) => ({\r\n                //const forumsData = res.data.map((item) => ({\r\n                value: item,\r\n            }));\r\n            const teachersList = [];\r\n            for (let index = 0; index < teachersData.length; index++) {\r\n                teachersList.push(teachersData[index])\r\n\r\n            }\r\n            setTeachers(teachersList)\r\n            /*const coursesData = res.data.data.getAllCourses.map((item) => ({\r\n                value: item,\r\n            }));\r\n            const coursesList = [];\r\n            for (let index = 0; index < coursesData.length; index++) {\r\n                coursesList.push(coursesData[index])\r\n            }\r\n            setCourses(coursesList)*/\r\n        }).catch()\r\n        getAllCourses(user.ya).then((res) => {\r\n            console.log(res.data.data.getAllCourses)\r\n            const coursesData = res.data.data.getAllCourses.map((item) => ({\r\n                value: item,\r\n            }));\r\n            const coursesList = [];\r\n            for (let index = 0; index < coursesData.length; index++) {\r\n                coursesList.push(coursesData[index])\r\n            }\r\n            setCourses(coursesList)\r\n        }).catch()\r\n    }, [show])\r\n\r\n    const handlerSidebar = (key) => {\r\n        if (key == \"1\") {\r\n        }\r\n        if (key == \"2\") {\r\n            props.logout();\r\n        }\r\n\r\n    }\r\n\r\n    const data = [\r\n        {\r\n            id: 1,\r\n            text: \"My Courses\",\r\n            icon: \"courses\",\r\n        },\r\n        {\r\n            id: 2,\r\n            text: \"Cerrar Sesión\",\r\n            icon: \"back\",\r\n        },\r\n    ];\r\n\r\n\r\n\r\n\r\n    console.log(teachers)\r\n    return (\r\n        <div>\r\n\r\n            <div className=\"content\" >\r\n                <SideBar data={data} handler={handlerSidebar} />\r\n                <Row>\r\n                    <Col>\r\n                        <h1 style={{ marginLeft: \"1%\", fontWeight: \"bold\", color: \"#5E90F2\" }}>Cursos</h1>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button style={{ backgroundColor: \"#5E90F2\", marginLeft: \"50%\" }} onClick={() => setModalShow(true)} >\r\n                            Nuevo curso\r\n                </Button>\r\n                        <NewCourseModal\r\n                            show={modalShow}\r\n                            onHide={() => setModalShow(false)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {courses.map((course, index) =>\r\n                        <Link style={{ margin: '1%' }} to={\"/course/\" + course.value.name + \"/\" + course.value.id_course}>\r\n                            <Card key={index} style={{ width: '18rem', margin: '1%', backgroundColor: \"white\" }}>\r\n                                <Card.Body>\r\n                                    <Card.Title style={{ color: \"#5E90F2\", fontWeight: \"bold\" }}>{course.value.name}</Card.Title>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Link>\r\n\r\n\r\n                    )}\r\n                </Row>\r\n                <h1 style={{ marginLeft: \"1%\", fontWeight: \"bold\", color: \"#5E90F2\" }}><img src={otherIcon} marginLeft=\"100px\" alt=\"Logo\" width=\"50\" height=\"50\"/> Profesores</h1>\r\n                {teachers.length>1 && <Card style={{ marginTop: \"5%\", marginRight:\"40%\" }} >\r\n                        <ListGroup style={{ maxHeight: \"250px\" }}>\r\n                            {teachers.map((teacher) =>\r\n                                <ListGroup.Item action variant=\"light\">{teacher.value.name + \"     |     \" + teacher.value.mail}</ListGroup.Item>\r\n                            )}\r\n                        </ListGroup>\r\n                    </Card>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Courses);\r\n","import React from \"react\";\r\nimport \"./resource.styles.css\"\r\nimport img from \"../../assets/images/logo.png\"\r\nconst Resource = ({row}) => {\r\n\r\n  return (\r\n    <li className=\"animated fadeIn fast\">\r\n      <div className=\"avatar\">\r\n        <img src={img} />\r\n      </div>\r\n      <div className=\"bubble-container\">\r\n        <div className=\"bubble\">\r\n          <h6>{row.idUser}</h6>\r\n          {row.content}\r\n        </div>\r\n        <div className=\"arrow\"></div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Resource;","import React from \"react\";\r\nimport Resource from \"../resource/resource.component\"\r\nimport \"./resourceList.styles.css\"\r\n\r\nconst ResourceList = ({data}) => {\r\n    console.log(data)\r\n    const items =  [...data].reverse().map((row) => {\r\n        return(\r\n            <Resource row={row} />\r\n        );\r\n    });\r\n    console.log(items)\r\n  return (\r\n    <ul id=\"timeline\" className=\"timeline\">\r\n        {items}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ResourceList;","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { InputGroup } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst InputIcon = (props) => (\r\n\r\n  <Form.Group >\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>\r\n          <FontAwesomeIcon icon={props.icon} />\r\n        </InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <Form.Control\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        aria-describedby=\"inputGroupPrepend\"\r\n        onChange = {props.handler}\r\n        required\r\n      />\r\n    </InputGroup>\r\n  </Form.Group>\r\n);\r\n\r\nexport default InputIcon;","import React from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlusCircle, faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport InputIcon from \"../inputIcon/inputIcon.component\"\r\nconst TopNav = (props) => (\r\n  <Row>\r\n    <Col md={4}>\r\n      <Button\r\n        type=\"submit\"\r\n        style={{ backgroundColor: \"#5E90F2\", marginTop: \"1%\" }}\r\n        onClick={props.handlerClick}\r\n      >\r\n        <FontAwesomeIcon\r\n          icon={faPlusCircle}\r\n          style={{ fontSize: \"1.5em\", color: \"#fff\", marginRight: \"0.3em\" }}\r\n        />\r\n        {props.text}\r\n      </Button>\r\n    </Col>\r\n    <Col md={7} >\r\n      <InputIcon\r\n        type=\"text\"\r\n        placeholder=\"Search..\"\r\n        icon={faSearch}\r\n        handler={props.handlerSearch}\r\n      />\r\n    </Col>\r\n  </Row>\r\n);\r\n\r\nexport default TopNav;\r\n","import React from \"react\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport styled from 'styled-components';\r\nimport {Col, Image, Row, Modal, Button, Form} from \"react-bootstrap\";\r\nimport {faUserCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useUser} from 'reactfire'\r\nimport { isFuture } from \"date-fns\";\r\n\r\nconst ModalResource = ({showModalNote,hideModal,handlerClick,update}) => {\r\n\r\n    var user = useUser();\r\n        return(\r\n       \r\n            <Modal\r\n            show={showModalNote}\r\n            onHide={hideModal}\r\n          >\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Create New Resource</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                <Form.Label>Insert text</Form.Label>\r\n                <Form.Control as=\"textarea\" rows=\"3\" onChange={update} />\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={hideModal}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={() => handlerClick(user.displayName)}\r\n              >\r\n                Create\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n            );\r\n }\r\n\r\n export default ModalResource;","import React from \"react\";\r\nimport \"./class.styles.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SideBar from \"../../components/side-bar/SideBar\";\r\nimport Logo from \"../../assets/images/logo_n.png\";\r\nimport ResourceList from \"../../components/resourceList/resourceList.component\";\r\nimport Notes from \"../../components/notes/notes\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\nimport { Col, Row} from \"react-bootstrap\";\r\nimport { faPlusCircle, faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport TopNav from \"../../components/topNav/topNav.component\"\r\nimport {createResource, getResources} from \"../../helpers\"\r\nimport ModalResource from \"../../components/modalResource/modalResource\"\r\nimport swal from 'sweetalert';\r\n\r\nclass Class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    resources:[],\r\n    notes:[],\r\n    showModal:false,\r\n    course_id: this.props.match.params.course_id,\r\n    showModalNote:false,\r\n    noteContent:\"\"\r\n\t};\r\n  }\r\n\r\n  componentDidMount(){\r\n    getResources(this.state.course_id, this.props.userToken)\r\n    .then((res) => {\r\n      this.setState({ resources: res.data.data.allResourcesOfClass }, () =>\r\n        console.log(res.data.data.allResourcesOfClass)\r\n      );\r\n    })\r\n    .catch();\r\n  }\r\n\r\n  \r\n\r\n  handlerSelect = (key) => {\r\n\t  alert(\"clicked: \" + key)\r\n  };\r\n  handlerSearch = (e) => {};\r\n\r\n  handlerClick = (e) => {\r\n\t  alert(\"click\")\r\n  };\r\n\r\n  handleShowModal = () => {\r\n\t  this.setState({showModal:true});\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n\tthis.setState({showModal:false});\r\n}\r\n\r\nhandlerSidebar = (key) => {\r\n  if(key == \"1\"){\r\n    this.props.history.push(\"/\");\r\n  }\r\n  if(key == \"2\"){\r\n    this.props.history.goBack();\r\n  }\r\n  if(key == \"3\"){\r\n    this.props.logout();\r\n    this.props.history.push(\"/\");\r\n  }\r\n}\r\n\r\nhandlerClick = (name) => {\r\n  const note = this.state.noteContent;\r\n  if(note.length <= 20 && note.length > 0){\r\n    createResource(note, this.state.course_id,name,this.props.userToken) \r\n    .then((res) => {\r\n      swal(\"Creando Recurso!\" , \"...\",\"success\");\r\n      const aux = {\r\n        idUser:name,\r\n        content:note\r\n      };\r\n      this.setState({ resources: [...this.state.resources, aux] });\r\n      this.setState({ showModalNote: false })\r\n    })\r\n    .catch();\r\n  } else {\r\n\r\n  }\r\n\r\n};\r\n\r\n  render() {\r\n    const data = [\r\n      {\r\n        id: 1,\r\n        text: \"My Courses\", \r\n        icon: \"courses\",\r\n      },\r\n      {\r\n        id: 2,\r\n        text: \"Go Back\",\r\n        icon: \"back\",\r\n      },\r\n      {\r\n        id: 3,\r\n        text: \"Cerrar Sesión\",\r\n        icon: \"back\",\r\n      },\r\n    ];\r\n    \r\n    console.log(this.props.userToken);\r\n\r\n    return (\r\n      <div>\r\n     <SideBar data={data} handler={this.handlerSidebar} />\r\n        <div className=\"content\">\r\n\r\n\t\t <TopNav handlerSearch={this.handlerSearch} text=\"Create Resource\" handlerClick={() => this.setState({showModalNote:true})} />\r\n          <h1 className=\"title\">\r\n            Software Architecture {\">\"}\r\n            {\">\"} October 12{\" \"}\r\n          </h1>\r\n          <h5 className=\"subtitle\">Resources</h5> \r\n          <hr />\r\n          <ResourceList data={this.state.resources} />\r\n          \r\n        </div>\r\n      <ModalResource showModalNote={this.state.showModalNote} hideModal={() => {this.setState({showModalNote:false})}} update={(e) => this.setState({noteContent:e.target.value})} handlerClick={this.handlerClick} />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Class);\r\n","import axios from \"axios\";\r\n\r\n\r\nconst GraphQL_URL = \"https://52.71.79.75/graphql\"\r\n\r\n\r\n//Ya\r\nexport const getStudyRooms = async (id, token) => {\r\n  let promise = new Promise((resolve, reject) => {\r\n    axios\r\n    .post(GraphQL_URL, {\r\n      query:`\r\n      query{\r\n        get_study_rooms(courseId:\"${id}\"){\r\n          _id\r\n          name\r\n          resources{\r\n            _id\r\n            resource\r\n            author\r\n            authorImage\r\n            description\r\n          }\r\n          students{\r\n            _id\r\n            name\r\n            picture\r\n            email\r\n          }\r\n          calendarEventId\r\n          ownerEmail\r\n          ownerName\r\n          description\r\n          date\r\n          duration\r\n        }\r\n      }\r\n      `,\r\n        variables: {}\r\n      },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n             \"Authorization\": \"Bearer \" + token,\r\n          }\r\n        }\r\n      )\r\n      .then((res) => {\r\n        resolve(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        reject(error);\r\n      });\r\n  });\r\n  return promise;\r\n};\r\n\r\n//Ya\r\nexport const inscribeUser = (sr_id, student_name, student_picture,student_email, token) => {\r\n    \r\n  let promise = new Promise((resolve, reject) => {\r\n        axios\r\n        .post(GraphQL_URL,\r\n          {\r\n            query:`\r\n            mutation{\r\n              inscribe_student(\r\n                sr_id: \"${sr_id}\",\r\n                student: {\r\n                  name: \"${student_name}\"\r\n                  picture: \"${student_picture}\"\r\n                  email: \"${student_email}\"\r\n                }\r\n                \r\n                ){\r\n                name\r\n              }\r\n            }\r\n            `\r\n          },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Authorization\": \"Bearer \" + token,\r\n              }\r\n            }\r\n          )\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          reject(new Error(error));\r\n        });\r\n    });\r\n  return promise;\r\n}\r\n\r\n//Ya\r\nexport const deleteUser = (sr_id, student_id, token) => {\r\n    \r\n  let promise = new Promise((resolve, reject) => {\r\n        axios\r\n        .post(GraphQL_URL,\r\n          {\r\n            query:`\r\n            mutation{\r\n              delete_student(\r\n                sr_id: \"${sr_id}\",\r\n                rmstudent: {\r\n                  _id: \"${student_id}\"\r\n                }\r\n                 \r\n                \r\n                ){\r\n                name\r\n              }\r\n            }\r\n            `\r\n          },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Authorization\": \"Bearer \" + token,\r\n              }\r\n            }\r\n          )\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          reject(new Error(error));\r\n        });\r\n    });\r\n  return promise;\r\n}\r\n\r\nexport const createSR = (name, description, date, duration, ownername, ownerEmail, courseId, token) => {\r\n    \r\n  let promise = new Promise((resolve, reject) => {\r\n        axios\r\n        .post(GraphQL_URL,\r\n          {\r\n            query:`\r\n            mutation{\r\n              create_study_room(studyroom:\r\n                {\r\n                  name: \"${name}\",\r\n                  description: \"${description}\",\r\n                  date: \"${date}\",\r\n                  duration: ${duration},\r\n                  ownerName: \"${ownername}\",\r\n                  ownerEmail: \"${ownerEmail}\",\r\n                  courseId: \"${courseId}\"\r\n                }){\r\n                name\r\n              }\r\n            }\r\n            `\r\n          },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Authorization\": \"Bearer \" + token,\r\n              }\r\n            }\r\n          )\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          reject(new Error(error));\r\n        });\r\n    });\r\n  return promise;\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Button, Modal, Row, Col, Container} from \"react-bootstrap\";\r\nimport './StudyroomComponent.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { BsFillPersonPlusFill,BsFillPersonDashFill } from 'react-icons/bs';\r\nimport {useUser} from 'reactfire'\r\nimport {inscribeUser,deleteUser} from '../../shared/studyroomHelpers';\r\nimport swal from 'sweetalert';\r\n\r\n\r\nfunction StudyRoomDetails(props) {\r\n\r\n    const [flagButtonInscribe, SetflagButtonInscribe] = useState(true);\r\n    var user = useUser();\r\n\r\n    useEffect(() => {\r\n        props.studyroom.students.map((student) => {\r\n            if((student.email == user.email) && (student.name == user.displayName)){\r\n                SetflagButtonInscribe(false);\r\n            }\r\n        })\r\n    })\r\n\r\n    function handleInscribe(){\r\n        inscribeUser(props.studyroom._id,user.displayName,\"picture\",user.email,user.ya).then((res) => {\r\n            SetflagButtonInscribe(true);\r\n            swal(\"Inscribiendo!\", user.displayName , \"success\");\r\n        })\r\n        \r\n    }\r\n\r\n    function handleDelete(){\r\n        props.studyroom.students.map((student) => {\r\n            if((student.email == user.email) && (student.name == user.displayName)){\r\n                deleteUser(props.studyroom._id,student._id, user.ya).then((res) => {\r\n                    SetflagButtonInscribe(false);\r\n                    swal({\r\n                        title: \"¿Estas seguro?\",\r\n                        text: \"Una vez eliminada la inscripción no saldrá en tu calendar\",\r\n                        icon: \"warning\",\r\n                        buttons: true,\r\n                        dangerMode: true,\r\n                      })\r\n                      .then((willDelete) => {\r\n                        if (willDelete) {\r\n                          swal(\"La inscripción ha sido cancelada exitosamente\", {\r\n                            icon: \"success\",\r\n                          });\r\n                        } else {\r\n                          swal(\"Intentalo mas tarde\");\r\n                        }\r\n                      });\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const students = props.studyroom.students.map((student) => {\r\n        return(\r\n        <li className=\"subTitles\">{student.name} - {student.email}</li>\r\n        );\r\n    })\r\n\r\n    const resources = props.studyroom.resources.map((resource) => {\r\n        return(\r\n            <li>\r\n                {resource.description}<br/>\r\n                <a href={resource.resource}>{resource.resource}</a><br/>\r\n                {resource.author}\r\n            </li>\r\n        );\r\n    })\r\n    return (\r\n    <>\r\n        <Modal \r\n            border=\"danger\"\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n            show={props.show} \r\n            onHide={props.handleClose}\r\n        >\r\n            <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                {props.studyroom.name} - \r\n                {new Intl.DateTimeFormat('en-US',{year: 'numeric', month: 'short', day: '2-digit'})\r\n                .format(new Date(Date.parse( props.studyroom.date)))}\r\n            </Modal.Title>\r\n            </Modal.Header>\r\n\r\n            <Modal.Body className=\"show-grid\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs={9} md={6}>\r\n                            <p>{props.studyroom.description}</p> \r\n                            <p>|| Duración: {props.studyroom.duration} minutos || </p> \r\n                        </Col>\r\n                        <Col xs={9} md={6}>\r\n                            <h5><b>Estudiantes Inscritos</b></h5>\r\n                            {students}\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col xs={9} md={6}>\r\n                        \r\n                        </Col>\r\n                        <Col xs={9} md={6}>\r\n                            <h5><b>Recursos</b></h5>\r\n                            {resources}\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                    <div align=\"left\">Invita: {props.studyroom.ownerName}\r\n                    <br/> <p className=\"subTitles\">{props.studyroom.ownerEmail}</p></div>\r\n                    </Row>\r\n                </Container>             \r\n            </Modal.Body>\r\n            \r\n            <Modal.Footer id=\"StudyroomDetailsFooter\">\r\n                \r\n                <div id=\"ContainerAlert\">\r\n                <Row>\r\n                    \r\n                    {flagButtonInscribe\r\n                    ? <Button variant=\"primary\" onClick={() => handleInscribe()}>\r\n                            <BsFillPersonPlusFill id=\"iconAddSR\"/>\r\n                    </Button>\r\n                    : <Button id=\"removeSRButton\" variant=\"primary\" onClick={() => handleDelete()}>\r\n                            <BsFillPersonDashFill id=\"iconRemoveSR\"/>\r\n                    </Button>\r\n                    }\r\n                    \r\n                    <div id=\"TitleAlert\">\r\n                        Una vez confirmes asistencia recibiras el link de la reunión a tu correo\r\n                    </div>\r\n                </Row>\r\n                    \r\n                </div>\r\n            \r\n                <Button  onClick={props.handleClose}>\r\n                    X\r\n                </Button>\r\n            \r\n            </Modal.Footer>\r\n        </Modal>\r\n    </>\r\n    );\r\n  }\r\n\r\n  export default StudyRoomDetails;","import React from 'react';\r\nimport 'date-fns';\r\nimport { Button, Modal, Col, Form, Row} from \"react-bootstrap\";\r\nimport './StudyroomComponent.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n    MuiPickersUtilsProvider,\r\n    KeyboardTimePicker,\r\n    KeyboardDatePicker,\r\n  } from '@material-ui/pickers';\r\nimport {useUser} from 'reactfire'\r\nimport {createSR} from '../../shared/studyroomHelpers';\r\nimport swal from 'sweetalert';\r\n\r\nfunction CreateStudyRoom(props){\r\n\r\n    var user = useUser();\r\n\r\n    const [selectedDate, setSelectedDate] = React.useState(new Date('2020-10-20T21:11:54'));\r\n    const [selectedName, setSelectedName] = React.useState();\r\n    const [selectedDuration, setSelectedDuration] = React.useState(30);\r\n    const [selectedDescription, setSelectedDescription] = React.useState();\r\n\r\n    const handleDateChange = (date) => {\r\n        setSelectedDate(date);\r\n    };\r\n\r\n    const handleNameChange = (event) => {\r\n        setSelectedName(event.target.value);\r\n    }\r\n    const handleDurationChange = (event) => {\r\n        setSelectedDuration(event.target.value)\r\n    }\r\n    const handleDescriptionChange = (event) => {\r\n        setSelectedDescription(event.target.value)\r\n    }\r\n\r\n    function handleSubmit(event){\r\n        \r\n        createSR(selectedName,selectedDescription,\r\n                selectedDate.toISOString(),selectedDuration,\r\n                user.displayName,user.email,props.course_id, user.ya)\r\n        .then((res) => {\r\n            swal(\"Creando...\", user.displayName , \"success\");\r\n            props.renderice();\r\n            props.handleClose();\r\n\r\n        })\r\n        event.preventDefault();\r\n        \r\n    }\r\n\r\n    \r\n    return (\r\n       <>\r\n          <Modal show={props.show} onHide={props.handleClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Crea una sala de Estudio</Modal.Title>\r\n            </Modal.Header>\r\n            \r\n                <Form onSubmit={handleSubmit}>\r\n                <Modal.Body>\r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formGridTittle\">\r\n                        <Form.Label>Título</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Título\" onChange={handleNameChange}/>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridDuration\">\r\n                            <Form.Label>\r\n                                Duración\r\n                                <t className=\"subTitles\"> (En minutos)</t>\r\n                            </Form.Label>\r\n                        <Form.Control as=\"select\"  defaultValue=\"30\" onChange={handleDurationChange}>\r\n                            <option>30</option>\r\n                            <option>45</option>\r\n                            <option>60</option>\r\n                            <option>75</option>\r\n                            <option>90</option>\r\n                            <option>120</option>\r\n                        </Form.Control>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n\r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formGridDate\">\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <KeyboardDatePicker\r\n                                margin=\"normal\"\r\n                                id=\"date-picker-dialog\"\r\n                                label=\"Fecha\"\r\n                                format=\"MM/dd/yyyy\"\r\n                                value={selectedDate}\r\n                                onChange={handleDateChange}\r\n                                KeyboardButtonProps={{\r\n                                    'aria-label': 'change date',\r\n                                }}\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formGridDate\">\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <KeyboardTimePicker\r\n                                    margin=\"normal\"\r\n                                    id=\"time-picker\"\r\n                                    label=\"Hora de Inicio\"\r\n                                    value={selectedDate}\r\n                                    onChange={handleDateChange}\r\n                                    KeyboardButtonProps={{\r\n                                        'aria-label': 'change time',\r\n                                    }}\r\n                                    />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n\r\n                    <Form.Group controlId=\"formGridDescription\">\r\n                        <Form.Label>Descripción</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows=\"3\" onChange={handleDescriptionChange}/>\r\n                    </Form.Group>\r\n\r\n                </Modal.Body>\r\n                <Modal.Footer id=\"StudyroomDetailsFooter\">\r\n                    <Button type=\"submit\" variant=\"primary\">\r\n                        + Crear\r\n                    </Button>\r\n                </Modal.Footer>\r\n                </Form>\r\n            \r\n          </Modal>\r\n        </>\r\n      );\r\n}\r\nexport default CreateStudyRoom;\r\n","import React, {useState} from 'react';\r\nimport { Button, ListGroup, Col, Row} from \"react-bootstrap\";\r\nimport './StudyroomComponent.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport StudyRoomDetails from './StudyroomDetails';\r\nimport CreateStudyRoom from './CreateStudyRoom';\r\nimport {IoIosPeople} from \"react-icons/io\";\r\nfunction RenderStudyRoomItem({studyroom}){\r\n    \r\n    const [show, setShow] = useState(false);\r\n    \r\n    function handleClose() {setShow(false);}\r\n    function handleOpen() {setShow(true);}\r\n    return(\r\n        <ListGroup.Item id=\"SingleStudyRoom\" action variant=\"light\" onClick={handleOpen}>\r\n            <Row>\r\n            <Col xs={12} md={9}>\r\n                {studyroom.name}<br/>\r\n                {new Intl.DateTimeFormat('en-US',{year: 'numeric', month: 'short', day: '2-digit'})\r\n                .format(new Date(Date.parse(studyroom.date)))}\r\n                <StudyRoomDetails\r\n                    key={studyroom._id}\r\n                    studyroom={studyroom}\r\n                    show={show} \r\n                    handleClose={handleClose}       \r\n                />\r\n            </Col>\r\n            <Col xs={4} md={3} id=\"ColItemSingleSR\">\r\n                <div id=\"IconItemSingleSR\">\r\n                    <IoIosPeople size={32}/>\r\n                </div>\r\n                \r\n            </Col>\r\n            </Row>\r\n            \r\n        </ListGroup.Item>\r\n        \r\n    );\r\n}\r\n\r\nconst StudyRoom = (props) => { \r\n    const [show, setShow] = useState(false);\r\n    const [renderice, setRenderice] = useState(false);\r\n\r\n    function Renderice(){setRenderice(!renderice);}\r\n    function handleClose() {setShow(false);}\r\n    function handleOpen() {setShow(true);}\r\n\r\n    \r\n    // function handleCreateStudyRoom(props,event){\r\n    //     setShow(false);\r\n    //     alert(\"Name\" + props.name.value + \"Description\" + props.description.value +\r\n    //     \"Date\" + props.date.value + \"Duration: \" + props.duration.value);\r\n    //     event.preventDefault();\r\n    // }\r\n    const studyrooms = props.studyrooms.map((studyroom) => {\r\n        return(\r\n            <div key={studyroom._id} className=\"col\">\r\n                <RenderStudyRoomItem studyroom={studyroom} />\r\n            </div>\r\n        );\r\n    })\r\n\r\n    \r\n\r\n    return(\r\n        <div className=\"container\" id=\"StudyroomsContainer\" >\r\n            <div className=\"col\">\r\n     \r\n                    <ListGroup id=\"StudyroomsList\">\r\n                        <h3 id=\"StudyroomsTitle\">Study Rooms</h3>\r\n                        {studyrooms}\r\n                    </ListGroup>\r\n\r\n                    <Button id=\"CreateNewSRButton\"  onClick={handleOpen}> + New StudyRoom</Button>  \r\n                    <CreateStudyRoom\r\n                        show={show} \r\n                        handleClose={handleClose}   \r\n                        course_id={props.course_id}\r\n                        renderice={Renderice}\r\n                    />\r\n                \r\n            </div>\r\n            \r\n                 \r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nexport default StudyRoom;","import React, { useState, useEffect } from \"react\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\nimport Container from 'react-bootstrap/Container'\r\nimport \"./notes.styles.css\"\r\n\r\nconst Notes = (props) => {\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(4);\r\n\r\n  let items = [];\r\n  for (let number = 1; number <= Math.ceil(props.notes.length / postsPerPage); number++) {\r\n    items.push(\r\n      <Pagination.Item key={number} onClick={() => setCurrentPage(number)} active={number === currentPage}>\r\n        {number}\r\n      </Pagination.Item>\r\n    );\r\n  }\r\n\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n \r\n  const notes =  [...props.notes].reverse().map((row,i) => {\r\n    return (\r\n      <li className=\"card-element\" >\r\n    <a href=\"#\">\r\n    <h2 className=\"card-title\" >Note {i+1}</h2>\r\n      <p className=\"card-content\">{row.content}</p>\r\n    </a>\r\n  </li>\r\n    );\r\n  });\r\n\r\n  let currentNotes = notes.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n\r\n  return (\r\n    <Container style={{ textAlign: \"center\" }}>\r\n      <ul className=\"card-list\" >\r\n        {currentNotes}\r\n      </ul>\r\n      <Pagination  size=\"sm\">\r\n      <Pagination.First onClick={() => setCurrentPage(1)} />\r\n        {items}\r\n        <Pagination.Last onClick={() => setCurrentPage(Math.ceil(props.notes.length / postsPerPage))} />\r\n      </Pagination>\r\n    </Container>\r\n  );\r\n};\r\n\r\nfunction temporarySwap(array)\r\n{\r\n    var left = null;\r\n    var right = null;\r\n    var length = array.length;\r\n    for (left = 0, right = length - 1; left < right; left += 1, right -= 1)\r\n    {\r\n        var temporary = array[left];\r\n        array[left] = array[right];\r\n        array[right] = temporary;\r\n    }\r\n    return array;\r\n}\r\n\r\nexport default Notes;","import {getStudyRooms} from '../shared/studyroomHelpers';\r\nimport Background from '../assets/images/logo_n.png';\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport StudyRoom from \"./StudyRoomComponent/StudyroomComponent\";\r\nimport { STUDYROOMS } from \"../shared/studyrooms\";\r\nimport ForumList from \"../components/forumList\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\nimport Notes from \"../components/notesList/notes.component\";\r\nimport { getNotesByClass, createNote } from \"../helpers\";\r\nimport TopNav from \"../components/topNav/topNav.component\";\r\nimport SideBar from \"../components/side-bar/SideBar\";\r\nimport swal from 'sweetalert';\r\nclass Course extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      studyrooms: [],\r\n      course_id: this.props.match.params.course_id,\r\n      course_name: this.props.match.params.course_name,\r\n      notes: [],\r\n      notesPerPage: 2,\r\n      currentPage: 1,\r\n      showModalNote: false,\r\n      noteContent:\"\"\r\n    };\r\n  }\r\n\r\n  handlerSidebar = (key) => {\r\n    if(key == \"1\"){\r\n      this.props.history.push(\"/\");\r\n    }\r\n    if(key == \"2\"){\r\n      this.props.history.push(\"/resources/\"+this.state.course_id);\r\n    }\r\n    if(key == \"3\"){\r\n      this.props.history.push(\"/\");\r\n    }\r\n    if(key == \"4\"){\r\n      this.props.logout();\r\n      \r\n      this.props.history.push(\"/\");\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    getNotesByClass(this.state.course_id, this.props.userToken)\r\n      .then((res) => {\r\n        this.setState({ notes: res.data.data.getNotesByClass }, () =>\r\n          console.log(this.state.notes)\r\n        );\r\n      })\r\n      .catch();\r\n      \r\n      getStudyRooms(this.state.course_id, this.props.userToken)\r\n        .then((res) => {\r\n            this.setState({\r\n                studyrooms: res.data.data.get_study_rooms\r\n            })\r\n        })\r\n  }\r\n\r\n  handlerClick = () => {\r\n    const note = this.state.noteContent;\r\n    if(note.length <= 20 && note.length > 0){\r\n      createNote(note, this.state.course_id, this.props.userToken) \r\n      .then((res) => {\r\n        console.log(res);\r\n        swal(\"Creando Nota..!\", \"...\", \"success\");\r\n        const aux = {\r\n          id_note: 31,\r\n          content: note,\r\n          id_user: 2,\r\n          score: 0,\r\n          id_course: 1,\r\n        };\r\n        this.setState({ notes: [...this.state.notes, aux] });\r\n        this.setState({ showModalNote: false })\r\n      })\r\n      .catch();\r\n    } else {\r\n\r\n    }\r\n\r\n  };\r\n\r\n  render() {\r\n    const data = [\r\n      {\r\n        id: 1,\r\n        text: \"My Courses\",\r\n        icon: \"courses\",\r\n      },\r\n      {\r\n        id: 2,\r\n        text: \"Resources\",\r\n        icon: \"courses\",\r\n      },\r\n      {\r\n        id: 3,\r\n        text: \"Go Back\",\r\n        icon: \"back\",\r\n      },\r\n      {\r\n        id: 4,\r\n        text: \"Cerrar Sesión\",\r\n        icon: \"back\",\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n      <SideBar data={data} handler={this.handlerSidebar} />\r\n      <div className=\"content\">\r\n        <TopNav\r\n          handlerSearch={this.handlerSearch}\r\n          text=\"New Note\"\r\n          handlerClick={() => this.setState({ showModalNote: true })}\r\n        />\r\n         <h1 className=\"title\">\r\n            {this.state.course_name} \r\n          </h1>\r\n        <div className=\"row\">\r\n        {this.state.notes != null ? <Notes notes={this.state.notes} />: \"\" }  \r\n        </div>\r\n        <div className=\"row  mb-4\">\r\n          <div className=\"col mt-4\">\r\n            <ForumList course_id={this.state.course_id} />\r\n          </div>\r\n          <div className=\"col mt-4\">\r\n            <StudyRoom studyrooms={this.state.studyrooms} course_id={this.state.course_id}/>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          show={this.state.showModalNote}\r\n          onHide={() => {\r\n            this.setState({ showModalNote: false });\r\n          }}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Create New Note</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n              <Form.Label>Insert text</Form.Label>\r\n              <Form.Control as=\"textarea\" rows=\"3\" onChange={(e) => this.setState({noteContent:e.target.value})} />\r\n            </Form.Group>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={() => {\r\n                this.setState({ showModalNote: false });\r\n              }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={this.handlerClick}\r\n            >\r\n              Create\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Course);\r\n","import React, {useEffect, useState} from \"react\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Route, useHistory } from \"react-router-dom\";\r\nimport Forum from \"./views/forum/forum\";\r\nimport Login from \"./views/login\";\r\nimport Register from \"./views/register\";\r\nimport Courses from \"./views/courses\";\r\nimport Class from \"./views/class/class.component\";\r\nimport Course from \"./components/CourseComponent\";\r\nimport { useFirebaseApp, AuthCheck } from \"reactfire\";\r\nimport SideBar from \"./components/side-bar/SideBar\";\r\nimport { render } from \"@testing-library/react\";\r\nimport { withRouter, Switch } from \"react-router-dom\";\r\nimport {useUser} from 'reactfire'\r\n\r\nfunction App(props) {\r\n  const firebase = useFirebaseApp();\r\n  let user = useUser();\r\n  async function logout() {\r\n    await firebase.auth().signOut();\r\n  }\r\n\r\n  const [swReg, setswReg] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // navigator.serviceWorker.register(\"./serviceWorker.js\").then((reg) => {\r\n    //   console.log(\"registrado\");\r\n    //     setswReg(reg);\r\n    //     reg.pushManager.getSubscription()\r\n    // });\r\n  });\r\n\r\n  return (\r\n    <Router>\r\n      <AuthCheck fallback={<Login swReg={swReg} />}>\r\n        <Route\r\n          exact\r\n          path=\"/course/:course_name/:course_id\"\r\n          component={() => <Course logout={logout} userToken={user != null ? user.ya:\"\"} />}\r\n        ></Route>\r\n        <Route exact path=\"/resources/:course_id\" component={() => <Class logout={logout}  userToken={user != null ? user.ya:\"\"} />}></Route>\r\n        <Route exact path=\"/forum/posts/:id\"  component={()=><Forum logout={logout} />}></Route>\r\n        <Route exact path=\"/\" component={() => <Courses swReg={swReg} logout={logout}  userToken={user != null ? user.ya:\"\"} />}></Route>\r\n      </AuthCheck>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React, { Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport firebaseConfig from './firebase-config'\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport $ from \"jquery\"\r\n\r\nimport {\r\n  FirebaseAppProvider\r\n} from 'reactfire'\r\n\r\nlet swReg;\r\nReactDOM.render(\r\n    <FirebaseAppProvider firebaseConfig={firebaseConfig}>\r\n      <Suspense fallback={'Conectando la aplicación'}>\r\n        <BrowserRouter>\r\n        <App />\r\n        </BrowserRouter>\r\n      </Suspense>\r\n    </FirebaseAppProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// window.addEventListener(\"load\",() => {\r\n//   navigator.serviceWorker.register( \"./serviceWorker.js\" ).then((reg) => {\r\n//     console.log(\"registrado\");\r\n//       swReg=reg;\r\n//       swReg.pushManager.getSubscription()\r\n//   });\r\n// });\r\n\r\n","export default {\r\n    apiKey: \"AIzaSyBelgE2jMEQDSk4bzo5vgl7fcm03kpCIJ4\",\r\n    authDomain: \"westudy-3c433.firebaseapp.com\",\r\n    databaseURL: \"https://westudy-3c433.firebaseio.com\",\r\n    projectId: \"westudy-3c433\",\r\n    storageBucket: \"westudy-3c433.appspot.com\",\r\n    messagingSenderId: \"250931566022\",\r\n    appId: \"1:250931566022:web:dd5258143e0e3d1f4b0ec7\",\r\n    measurementId: \"G-PFE04WW5G3\"\r\n}"],"sourceRoot":""}