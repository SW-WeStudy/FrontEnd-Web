(this["webpackJsonpwestudy-web"]=this["webpackJsonpwestudy-web"]||[]).push([[1],{130:function(e,t,n){e.exports=n.p+"static/media/logo.229c63a1.png"},143:function(e,t,n){e.exports=n.p+"static/media/logo_n.f70c1bc5.png"},183:function(e,t,n){},274:function(e,t,n){e.exports=n.p+"static/media/otherIcon.30b6e371.png"},275:function(e,t,n){e.exports=n.p+"static/media/logo.9c02cdde.png"},289:function(e,t,n){e.exports=n(604)},293:function(e,t,n){},294:function(e,t,n){},320:function(e,t,n){},597:function(e,t,n){},598:function(e,t,n){},599:function(e,t,n){},600:function(e,t,n){},601:function(e,t,n){},602:function(e,t){},604:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(15),c=n.n(o),l=(n(293),n(29)),i=n.n(l),s=n(11),u=n(50),m=(n(294),n(35)),d=n(20),p=n(63),f=n(64),h=n(12),E=n(30),g=n(95),y=n(61),b=n(38),v=n(19),C=n.n(v),w=n(23),j="http://3.140.66.179:5000/graphql",S=function(e,t){return new Promise((function(n,a){C.a.post(j,{query:'\n        query{\n          LDAPAuthUser(email:"'.concat(e,'",password:"').concat(t,'"){\n            status\n          }\n        }\n        '),variables:{}},{headers:{"Content-Type":"application/json"}}).then((function(e){n(e)})).catch((function(e){console.log(e),a(e)}))}))},k=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e,a){C.a.post(j,{query:'\n          query{\n            getForumsByCourse(course_id:"'.concat(t,'"){\n              name,\n              _id\n            }\n          }\n          '),variables:{}},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(t){e(t)})).catch((function(e){console.log(e),a(e)}))})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark((function e(t,n,a,r,o,c){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new Promise((function(e,l){C.a.post(j,{query:'\n              mutation{\n                createPost(_idForum:"'.concat(t,'", post:{title:"').concat(n,'", content:"').concat(a,'", userCreator:"').concat(r,'", userCreator_id:"').concat(o,'", forum_id:"').concat(t,'"}){\n                  content\n                }\n              }\n              ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(t){e(t)})).catch((function(e){console.log(e),l(new Error(e))}))})),e.abrupt("return",l);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,c){return e.apply(this,arguments)}}(),x=function(e,t,n){return new Promise((function(a,r){C.a.post(j,{query:'\n              mutation{\n                createUser(user:{email: "'.concat(e,'", displayName: "').concat(t,'", password:"').concat(n,'"}){\n                  displayName \n                }\n              }\n              ')},{headers:{"Content-Type":"application/json"}}).then((function(e){a(e)})).catch((function(e){console.log(e),r(new Error(e))}))}))},N=(n(71),n(55)),_=n(27),T=n.n(_),P=function(e){var t=Object(w.m)(),n=r.a.useState(!1),o=Object(s.a)(n,2),c=o[0],l=o[1],i=r.a.useState(!1),u=Object(s.a)(i,2),d=u[0],v=u[1];function S(n){var a=r.a.useState(""),o=Object(s.a)(a,2),c=o[0],i=o[1];return r.a.createElement(b.a,Object.assign({},n,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"Nuevo foro")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a,{onSubmit:function(n){n.preventDefault(),function(e,t,n,a,r){return new Promise((function(o,c){C.a.post(j,{query:'\n              mutation{\n                createForum(forum:{name:"'.concat(a,'", userCreator:"').concat(e,'", userCreator_id: "').concat(t,'",course_id: "').concat(n,'"}){\n                  name\n                }\n              }\n              ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then((function(e){o(e)})).catch((function(e){console.log(e),c(new Error(e))}))}))}(t.displayName,t.uid,e.course_id,c,t.ya).then((function(e){T()("Creando Foro..!","...","success"),l(!1),v(!d)}))},style:{margin:"3%"}},r.a.createElement(h.a.Group,{controlId:"postTitle"},r.a.createElement(h.a.Control,{as:"textarea",rows:"1",placeholder:"T\xedtulo del foro",onChange:function(e){e.preventDefault(),i(e.target.value)}})),r.a.createElement(E.a,{type:"submit",style:{backgroundColor:"#5E90F2",marginTop:"1%"}},"Crear foro"))))}var O=r.a.useState([{value:{name:String,_id:String,course_id:String}}]),x=Object(s.a)(O,2),_=x[0],P=x[1];return Object(a.useEffect)((function(){k(e.course_id,t.ya).then((function(t){console.log(t.data.data),console.log(e.course_id);for(var n=t.data.data.getForumsByCourse.map((function(e){return{value:e}})),a=[],r=0;r<n.length;r++)a.push(n[r]);P(a)})).catch()}),[d]),r.a.createElement(N.a,null,r.a.createElement(g.a,null,r.a.createElement(y.a,null,r.a.createElement("h3",{style:{fontWeight:"bold",color:"#5E90F2"}},"Forums")),r.a.createElement(y.a,null,r.a.createElement(E.a,{style:{marginLeft:"30%",backgroundColor:"#5E90F2"},onClick:function(){return l(!0)}},"Crear un nuevo foro"),r.a.createElement(S,{show:c,onHide:function(){return l(!1)}}))),r.a.createElement(f.a,{style:{marginTop:"5%"}},r.a.createElement(p.a,{style:{maxHeight:"250px",overflow:"scroll"}},_.map((function(e,t){return r.a.createElement(m.b,{key:t,to:"/forum/posts/"+e.value._id},r.a.createElement(p.a.Item,{action:!0,variant:"light"},e.value.name))})))))},B=n(105),I=n(106),F=n(110),A=n(109),q=n(51),D=n(46),z=n(47),M=n.n(z);function L(){var e=Object(q.a)(["\n    color: #fff;\n"]);return L=function(){return e},e}function R(){var e=Object(q.a)(["\n    color: #222;\n"]);return R=function(){return e},e}function G(){var e=Object(q.a)(['\n    &&&:hover {\n        [class*="navtext--"] {\n            color: #222;\n        }\n    }\n']);return G=function(){return e},e}function H(){var e=Object(q.a)(['\n    background-color: #fff;\n    &&[class*="expanded--"] {\n        [class*="sidenav-subnav--"] {\n            > [class*="sidenav-subnavitem--"],\n            > [class*="sidenav-subnavitem--"]:hover {\n                > [class*="navitem--"] {\n                    color: #222;\n                }\n            }\n            > [class*="sidenav-subnavitem--"]:hover {\n                > [class*="navitem--"] {\n                    background-color: #eee;\n                }\n            }\n            > [class*="sidenav-subnavitem--"][class*="selected--"] {\n                > [class*="navitem--"] {\n                    color: #db3d44;\n                }\n                > [class*="navitem--"]::before {\n                    border-left: 2px solid #db3d44;\n                }\n            }\n        }\n    }\n    && > [class*="sidenav-navitem--"] {\n        > [class*="navitem--"] {\n            background-color: inherit;\n            color: #222;\n        }\n    }\n    && > [class*="sidenav-navitem--"]:hover {\n        > [class*="navitem--"] {\n            background-color: #fff;\n        }\n    }\n    && > [class*="sidenav-navitem--"],\n    && > [class*="sidenav-navitem--"]:hover {\n        > [class*="navitem--"] {\n            [class*="navicon--"] {\n                &, > * {\n                    color: #666;\n                }\n            }\n            [class*="sidenav-nav-text--"] {\n                &, > * {\n                    color: #222;\n                }\n            }\n        }\n    }\n    && > [class*="sidenav-navitem--"][class*="highlighted--"],\n    && > [class*="sidenav-navitem--"][class*="highlighted--"]:hover {\n        > [class*="navitem--"] {\n            [class*="navicon--"],\n            [class*="navtext--"] {\n                &, > * {\n                    color: #845EC2;\n                }\n            }\n            [class*="sidenav-nav-text--"] {\n                font-weight: 700;\n            }\n        }\n    }\n']);return H=function(){return e},e}function W(){var e=Object(q.a)(["\n    background-color: rgba(132,94,194,0.5);\n"]);return W=function(){return e},e}function U(){var e=Object(q.a)(["\n    background-color: #fff;\n    border-right: 1px solid #ddd;\n"]);return U=function(){return e},e}var K=Object(D.a)(M.a)(U());K.defaultProps=M.a.defaultProps;var J=Object(D.a)(z.Toggle)(W());J.defaultProps=z.Toggle.defaultProps;var Q=Object(D.a)(z.Nav)(H());Q.defaultProps=z.Nav.defaultProps;var V=Object(D.a)(z.NavItem)(G());V.defaultProps=z.NavItem.defaultProps,Object(D.a)(z.NavIcon)(R()).defaultProps=z.NavIcon.defaultProps;var X=Object(D.a)(z.NavText)(L());X.defaultProps=z.NavText.defaultProps;var Y=K,Z=n(76),$=(n(217),n(630)),ee=n(143),te=n.n(ee),ne=n(94);n(320);function ae(){var e=Object(q.a)(["\n    clear: both;\n    position: relative;\n    margin: 0;\n    background-color: #ddd;\n    height: 1px;\n"]);return ae=function(){return e},e}function re(){var e=Object(q.a)(["\n    float: left;\n    width: 100%;\n    padding: 5px 20px;\n    background-color: rgb(214,93,177,0.5);\n"]);return re=function(){return e},e}function oe(){var e=Object(q.a)(["\n    font-size: 1.5em;\n    line-height: 20px;\n    padding: 20px 0;\n"]);return oe=function(){return e},e}function ce(){var e=Object(q.a)(["\n    display: ",";\n    white-space: nowrap;    \n    color: #fff;\n    > * {\n        color: inherit;\n        background-color: inherit;\n    }\n"]);return ce=function(){return e},e}var le=D.a.div(ce(),(function(e){return e.expanded?"block":"none"})),ie=D.a.div(oe()),se=D.a.div(re()),ue=D.a.div(ae()),me=function(e){var t=e.expanded,n=Object(w.m)();return null!=n?r.a.createElement(le,{expanded:t,style:{backgroundColor:"#fff"}},r.a.createElement(ie,null,r.a.createElement("i",null,r.a.createElement($.a,{className:"ml-2 mb-1",src:te.a,style:{height:"60px"},fluid:!0})),r.a.createElement("p",{style:{display:"inline",fontSize:"25px",marginLeft:"35px",color:"#5E90F2 "},className:"mt-2"},"WeStudy ")),r.a.createElement(se,{style:{backgroundColor:"#5E90F2",backgroundPosition:"center",minHeight:"50px"}},r.a.createElement(g.a,null,r.a.createElement(y.a,{xs:3},r.a.createElement(Z.a,{icon:ne.c,style:{fontSize:"3em",marginTop:"15px",color:"#fff"}})),r.a.createElement(y.a,null,r.a.createElement("p",{className:"mt-3",style:{fontWeight:"bold",color:"#fff"}},"  ",null!=n.displayName?n.displayName:""," "),r.a.createElement("p",{style:{marginTop:"-15px",color:"#fff"}}," ",null!=n.email?n.email:""," "))),r.a.createElement("hr",null))):r.a.createElement("div",null)},de=function(e){Object(F.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(B.a)(this,n),(a=t.call(this,e)).state={expanded:!0},a}return Object(I.a)(n,[{key:"render",value:function(){var e=this,t=(this.state.expanded,this.props.data.map((function(e){return r.a.createElement(V,{eventKey:e.id,key:e.id,style:{height:"60px",backgroundColor:"#5E90F2"},className:"mt-0"},r.a.createElement(X,{style:{color:"#fff",display:"true",backgroundColor:"#5E90F2",fontSize:"18px"}},r.a.createElement("img",{src:"/icons/"+e.icon+".png",style:{width:"20px",color:"#fff",marginRight:"10px",marginLeft:"70px"},alt:""}),e.text),r.a.createElement(ue,{className:"mt-2"}))})));return r.a.createElement(Y,{className:"sticky",style:{minWidth:250,backgroundColor:"#5E90F2"},onSelect:function(t){e.props.handler(t)},onToggle:function(){e.setState({expanded:!0})}},r.a.createElement(J,{style:{backgroundColor:"#A30021",height:"57px",display:"none"}}),r.a.createElement(me,{expanded:!0}),r.a.createElement(Q,{defaultSelected:"home",style:{backgroundColor:"#5E90F2"}},t))}}]),n}(r.a.Component),pe=n(129),fe=Object(d.g)((function(e){var t=Object(w.m)(),n=Object(d.f)().id,o=r.a.useState(!1),c=Object(s.a)(o,2),l=c[0],i=c[1],u=Object(a.useState)(!1),v=Object(s.a)(u,2),S=v[0],k=v[1],x=Object(a.useState)(!1),N=Object(s.a)(x,2),_=(N[0],N[1],r.a.useState(!1)),P=Object(s.a)(_,2),B=P[0],I=P[1],F=r.a.useState(""),A=Object(s.a)(F,2),q=A[0],D=A[1],z=t.displayName,M=r.a.useState(""),L=Object(s.a)(M,2),R=L[0],G=L[1],H=r.a.useState(""),W=Object(s.a)(H,2),U=W[0],K=W[1],J=t.displayName,Q=r.a.useState(""),V=Object(s.a)(Q,2),X=V[0],Y=V[1],Z=r.a.useState(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1];function ne(e){e.preventDefault(),function(e,t,n,a,r,o){return new Promise((function(c,l){C.a.post(j,{query:'\n              mutation{\n                createPostComment(_idForum:"'.concat(e,'", _idPost:"').concat(t,'", postComment:{content:"').concat(n,'", userCreator:"').concat(a,'", userCreator_id:"').concat(r,'"}){\n                  content\n                }\n              }\n              ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}).then((function(e){c(e)})).catch((function(e){console.log(e),l(new Error(e))}))}))}(n,R,q,z,t.uid,t.ya).then((function(e){console.log(e),i(!1),I(!B)}))}function ae(e){e.preventDefault(),D(e.target.value),G(e.target.name)}function re(e){e.preventDefault(),function(e,t,n,a,r,o,c){return new Promise((function(l,i){C.a.post(j,{query:'\n                mutation{\n                  createCommentAnswer(_idForum:"'.concat(e,'", _idPost:"').concat(t,'",_idComment:"').concat(n,'", answer:{content:"').concat(a,'", userCreator:"').concat(r,'", userCreator_id:"').concat(o,'"}){\n                    content\n                  }\n                }\n              ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(e){l(e)})).catch((function(e){console.log(e),i(new Error(e))}))}))}(n,X,ee,U,J,"0",t.ya).then((function(e){console.log(e),i(!1),I(!B)}))}function oe(e){e.preventDefault(),K(e.target.value),Y(e.target.name.substr(0,24)),te(e.target.name.substr(25,50))}function ce(e){(function(e,t,n){return new Promise((function(a,r){C.a.post(j,{query:'\n            mutation{\n              deletePost(_idForum:"'.concat(e,'", _idPost:"').concat(t,'"){\n                _id\n              }\n            }\n            ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){a(e)})).catch((function(e){console.log(e),r(new Error(e))}))}))})(n,e,t.ya).then((function(e){T()("Eliminando publicaci\xf3n..!","...","success"),I(!B)}))}function le(e,a){(function(e,t,n,a){return new Promise((function(r,o){C.a.post(j,{query:'\n          mutation{\n            deletePostComment(_idForum:"'.concat(e,'", _idPost:"').concat(t,'", _idComment:"').concat(n,'"){\n              _id\n            }\n          }\n            ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){r(e)})).catch((function(e){console.log(e),o(new Error(e))}))}))})(n,e,a,t.ya).then((function(e){T()("Eliminando comentario..!","...","success"),I(!B)}))}function ie(e){var a=r.a.useState(""),o=Object(s.a)(a,2),c=o[0],l=o[1],u=r.a.useState(""),m=Object(s.a)(u,2),d=m[0],p=m[1],f=r.a.useState(""),g=Object(s.a)(f,2);g[0],g[1];return r.a.createElement(b.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,{style:{color:"#5E90F2",marginBottom:"2%"},id:"contained-modal-title-vcenter"},"Nueva publicaci\xf3n")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a,{onSubmit:function(e){e.preventDefault(),O(n,c,d,t.displayName,"0",t.ya).then((function(e){console.log(e),i(!1),I(!B)}))},style:{margin:"3%"}},r.a.createElement(h.a.Group,{controlId:"postTitle"},r.a.createElement(h.a.Control,{as:"textarea",rows:"1",placeholder:"T\xedtulo",onChange:function(e){e.preventDefault(),l(e.target.value)}})),r.a.createElement(h.a.Group,{controlId:"postTextarea1"},r.a.createElement(h.a.Control,{as:"textarea",rows:"3",placeholder:"Contenido de la publicaci\xf3n",onChange:function(e){e.preventDefault(),p(e.target.value)}})),r.a.createElement(E.a,{type:"submit",style:{backgroundColor:"#5E90F2",marginTop:"1%"}},"Publicar"))))}var se=Object(a.useState)([{_id:String,title:String,content:String,userCreator:String,comments:[{_id:String,content:String,userCreator:String,createdAt:Date}]}]),ue=Object(s.a)(se,2),me=ue[0],fe=ue[1];Object(a.useEffect)((function(){(function(e,t){return new Promise((function(n,a){C.a.post(j,{query:'\n        query{\n          getForumPosts(_idForum:"'.concat(e,'"){\n            _id\n            title\n            content\n            userCreator\n            userCreator_id\n            forum_id\n            likes\n            comments{\n              _id\n              content\n              userCreator\n              userCreator_id\n              answer\n            }\n          }\n        }\n        '),variables:{}},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){console.log("Esto es lo que imprime la petici\xf3n"),console.log(e.data.data.getForumPosts),n(e)})).catch((function(e){console.log(e),a(e)}))}))})(n,t.ya).then((function(e){console.log(e.data.data.getForumPosts);var t=e.data.data.getForumPosts;fe(t)})).catch()}),[B]),console.log(me);return r.a.createElement("div",null,r.a.createElement(de,{data:[{id:1,text:"My Courses",icon:"courses"},{id:2,text:"Go Back",icon:"back"},{id:3,text:"Cerrar Sesi\xf3n",icon:"back"}],handler:function(t){"1"==t&&e.history.push("/"),"2"==t&&e.history.goBack(),"3"==t&&(e.logout(),e.history.push("/"))}}),r.a.createElement("div",{className:"content",style:{margin:"5%"}},r.a.createElement(g.a,null,r.a.createElement(y.a,null,r.a.createElement(E.a,{style:{backgroundColor:"#5E90F2",marginLeft:"70%"},onClick:function(){return i(!0)}},"A\xf1adir publicaci\xf3n"),r.a.createElement(ie,{show:l,onHide:function(){return i(!1)}}))),r.a.createElement(p.a,null,me&&me.map((function(e,n){return r.a.createElement(f.a,{style:{marginBottom:"2%",backgroundColor:"#5E90F2"}},r.a.createElement(f.a.Header,{style:{color:"white",fontWeight:"bold"}},e.title," | ",e.userCreator),r.a.createElement(p.a.Item,{key:n},r.a.createElement("p",{style:{marginBottom:"5%"}},e.content),0!==e.comments.length&&!S&&r.a.createElement(m.b,{style:{color:"#5E90F2"},onClick:function(){return k(!0)}},"Mostrar comentarios: ",e.comments.length),S&&r.a.createElement(m.b,{style:{color:"#5E90F2"},onClick:function(){return k(!1)}},"Esconder comentarios"),S&&me[n].comments.map((function(n,a){return r.a.createElement(p.a.Item,{style:{marginBottom:"2%",marginTop:"1%"},key:a},r.a.createElement("p",{style:{fontWeight:"lighter"}},n.userCreator," | ",String(n.createdAt).substr(0,10)),r.a.createElement("p",null,n.content),r.a.createElement(h.a,{onSubmit:re,style:{marginTop:"1%"}},r.a.createElement(h.a.Group,{controlId:"answerTextarea1",onChange:oe},t.displayName===n.userCreator&&r.a.createElement(E.a,{onClick:function(){le(e._id,n._id)},style:{backgroundColor:"#FE4A49",marginLeft:"1%",marginTop:"1%"}},r.a.createElement(pe.b,{size:20})))))})),r.a.createElement(h.a,{onSubmit:ne,style:{marginTop:"1%"}},r.a.createElement(h.a.Group,{controlId:"commentTextarea1",onChange:ae},r.a.createElement(h.a.Control,{name:e._id,as:"textarea",rows:"3"}),r.a.createElement(E.a,{type:"submit",style:{backgroundColor:"#5E90F2",marginTop:"1%"}},"Comentar"),t.displayName===e.userCreator&&r.a.createElement(E.a,{onClick:function(){ce(e._id)},style:{backgroundColor:"#FE4A49",marginLeft:"1%",marginTop:"1%"}},r.a.createElement(pe.b,{size:20}))))))})))))})),he=n(130),Ee=n.n(he),ge=(n(218),n(595),function(e){var t=r.a.useState(""),n=Object(s.a)(t,2),a=n[0],o=n[1],c=r.a.useState(""),l=Object(s.a)(c,2),m=l[0],p=l[1],f=r.a.useState(!0),g=Object(s.a)(f,2),y=g[0],b=g[1],v=Object(d.e)(),k=Object(w.j)(),O=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(a,m).then((function(e){console.log(e),1==e.data.data.LDAPAuthUser.status?k.auth().signInWithEmailAndPassword(a,m).then((function(e){v.push("/")})).catch((function(e){alert("no login")})):alert("First auth not working")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=r.a.useState(""),T=Object(s.a)(_,2),P=T[0],B=T[1],I=r.a.useState(""),F=Object(s.a)(I,2),A=F[0],q=F[1],D=r.a.useState(""),z=Object(s.a)(D,2),M=z[0],L=z[1];return r.a.createElement("div",null,r.a.createElement("div",{style:{display:y?"block":"none"}},r.a.createElement(N.a,{style:{maxWidth:"500px"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:Ee.a,alt:"Logo WeStudy",style:{width:"35%",height:"35%",marginBottom:"5%",marginTop:"10%"}})),r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"formBasicEmail"},r.a.createElement(h.a.Label,null,"Correo electr\xf3nico"),r.a.createElement(h.a.Control,{type:"email",placeholder:"Ingresar correo electr\xf3nico",onChange:function(e){return o(e.target.value)}})),r.a.createElement(h.a.Group,{controlId:"formBasicPassword"},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Contrase\xf1a",onChange:function(e){return p(e.target.value)}}),r.a.createElement(E.a,{style:{marginTop:"2%",width:"100%"},variant:"primary",onClick:O},"Ingresar")),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(E.a,{variant:"link",onClick:function(){return b(!1)}},"Registrarse"))))),r.a.createElement("div",{style:{display:y?"none":"block"}},r.a.createElement(N.a,{style:{maxWidth:"500px"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:Ee.a,alt:"Logo WeStudy",style:{width:"35%",height:"35%",marginBottom:"5%",marginTop:"10%"}})),r.a.createElement(h.a,{onSubmit:function(e){(function(e,t,n,a){return new Promise((function(r,o){C.a.post(j,{query:'\n          mutation {\n            LDAPCreateUser(user: {email: "'.concat(e,'", name: "').concat(t,'", surName: "').concat(n,'", password: "').concat(a,'"}) {\n              status\n            }\n          }\n            ')},{headers:{"Content-Type":"application/json"}}).then((function(e){r(e)})).catch((function(e){console.log(e),o(new Error(e))}))}))})(P,A,A,M).then((function(e){e.data.data.LDAPCreateUser.status?x(P,A,M).then((function(e){console.log(e),b(!0),B(""),q(""),L("")})).catch((function(e){alert("Register not working")})):alert("First register not working")})),e.preventDefault()}},r.a.createElement(h.a.Group,{controlId:"formBasicName"},r.a.createElement(h.a.Label,null,"Nombre"),r.a.createElement(h.a.Control,{type:"displayName",value:A,placeholder:"Ingresar su nombre",onChange:function(e){return q(e.target.value)}})),r.a.createElement(h.a.Group,{controlId:"formBasicEmail"},r.a.createElement(h.a.Label,null,"Correo electr\xf3nico"),r.a.createElement(h.a.Control,{type:"email",value:P,placeholder:"Ingresar correo electr\xf3nico",onChange:function(e){return B(e.target.value)}})),r.a.createElement(h.a.Group,{controlId:"formBasicPassword"},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Contrase\xf1a",value:M,onChange:function(e){return L(e.target.value)}}),r.a.createElement(E.a,{style:{marginTop:"2%",width:"100%"},variant:"primary",type:"submit"},"Registrarse")),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(E.a,{variant:"link",onClick:function(){return b(!0)}},"Iniciar Sesi\xf3n"))))))}),ye=n(274),be=n.n(ye),ve=Object(d.g)((function(e){var t=r.a.useState(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(w.m)();function i(e){var t=r.a.useState(""),n=Object(s.a)(t,2),a=n[0],i=n[1];return r.a.createElement(b.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"Nuevo curso")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a,{onSubmit:function(e){var t,n,r,i;e.preventDefault(),(t=1,n=a,r="0",i=l.ya,new Promise((function(e,a){C.a.post(j,{query:"\n            mutation{\n              createCourse(course:{id:".concat(t,', name:"').concat(n,'", forum:"').concat(r,'"}){\n                ok\n              }\n            }\n            ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}}).then((function(t){e(t)})).catch((function(e){console.log(e),a(new Error(e))}))}))).then((function(e){T()("Creando Curso..!","...","success"),S(!1),c(!o),function(e,t,n,a){return new Promise((function(r,o){C.a.post(j,{query:'\n          mutation {\n            pushNotification(notification: {titulo: "'.concat(e,'", cuerpo: "').concat(t,'", usuario: "').concat(n,'"}) {\n              titulo\n              cuerpo\n              usuario\n            }\n          }\n            ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){r(e)})).catch((function(e){console.log(e),o(new Error(e))}))}))}(a,"Nuevo Curso creado",l.displayName,l.ya).then((function(e){T()("Notificando a tus compa\xf1eros","...","success")}))}))},style:{margin:"3%"}},r.a.createElement(h.a.Group,{controlId:"postTitle"},r.a.createElement(h.a.Control,{as:"textarea",rows:"1",placeholder:"T\xedtulo del foro",onChange:function(e){e.preventDefault(),i(e.target.value)}})),r.a.createElement(E.a,{type:"submit",style:{backgroundColor:"#5E90F2",marginTop:"1%"}},"Crear curso"))))}var u=r.a.useState(!1),d=Object(s.a)(u,2),v=d[0],S=d[1],k=r.a.useState([{value:{id_course:String,name:String}}]),O=Object(s.a)(k,2),x=O[0],N=O[1],_=r.a.useState([{value:{name:String,mail:String}}]),P=Object(s.a)(_,2),B=P[0],I=P[1];Object(a.useEffect)((function(){var e;(e=l.ya,new Promise((function(t,n){C.a.post(j,{query:"\n        query{\n          getTeachers{\n            name,\n            mail\n          }\n        }\n        ",variables:{}},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){t(e)})).catch((function(e){console.log(e),n(e)}))}))).then((function(e){for(var t=e.data.data.getTeachers.map((function(e){return{value:e}})),n=[],a=0;a<t.length;a++)n.push(t[a]);I(n)})).catch(),function(e){return new Promise((function(t,n){C.a.post(j,{query:"\n          query{\n            getAllCourses{\n              id_course,\n              name\n              \n            }\n          }\n          ",variables:{}},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){console.log(e.data.data.getForums),t(e)})).catch((function(e){console.log(e),n(e)}))}))}(l.ya).then((function(e){console.log(e.data.data.getAllCourses);for(var t=e.data.data.getAllCourses.map((function(e){return{value:e}})),n=[],a=0;a<t.length;a++)n.push(t[a]);N(n)})).catch()}),[o]);return console.log(B),r.a.createElement("div",null,r.a.createElement("div",{className:"content"},r.a.createElement(de,{data:[{id:1,text:"My Courses",icon:"courses"},{id:2,text:"Cerrar Sesi\xf3n",icon:"back"}],handler:function(t){"2"==t&&e.logout()}}),r.a.createElement(g.a,null,r.a.createElement(y.a,null,r.a.createElement("h1",{style:{marginLeft:"1%",fontWeight:"bold",color:"#5E90F2"}},"Cursos")),r.a.createElement(y.a,null,r.a.createElement(E.a,{style:{backgroundColor:"#5E90F2",marginLeft:"50%"},onClick:function(){return S(!0)}},"Nuevo curso"),r.a.createElement(i,{show:v,onHide:function(){return S(!1)}}))),r.a.createElement(g.a,null,x.map((function(e,t){return r.a.createElement(m.b,{style:{margin:"1%"},to:"/course/"+e.value.name+"/"+e.value.id_course},r.a.createElement(f.a,{key:t,style:{width:"18rem",margin:"1%",backgroundColor:"white"}},r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Title,{style:{color:"#5E90F2",fontWeight:"bold"}},e.value.name))))}))),r.a.createElement("h1",{style:{marginLeft:"1%",fontWeight:"bold",color:"#5E90F2"}},r.a.createElement("img",{src:be.a,marginLeft:"100px",alt:"Logo",width:"50",height:"50"})," Profesores"),B.length>1&&r.a.createElement(f.a,{style:{marginTop:"5%",marginRight:"40%"}},r.a.createElement(p.a,{style:{maxHeight:"250px"}},B.map((function(e){return r.a.createElement(p.a.Item,{action:!0,variant:"light"},e.value.name+"     |     "+e.value.mail)}))))))})),Ce=n(82),we=(n(597),n(598),n(275)),je=n.n(we),Se=function(e){var t=e.row;return r.a.createElement("li",{className:"animated fadeIn fast"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:je.a})),r.a.createElement("div",{className:"bubble-container"},r.a.createElement("div",{className:"bubble"},r.a.createElement("h6",null,t.idUser),t.content),r.a.createElement("div",{className:"arrow"})))},ke=(n(599),function(e){var t=e.data;console.log(t);var n=Object(Ce.a)(t).reverse().map((function(e){return r.a.createElement(Se,{row:e})}));return console.log(n),r.a.createElement("ul",{id:"timeline",className:"timeline"},n)}),Oe=(n(600),n(631)),xe=function(e){return r.a.createElement(h.a.Group,null,r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Prepend,null,r.a.createElement(Oe.a.Text,null,r.a.createElement(Z.a,{icon:e.icon}))),r.a.createElement(h.a.Control,{type:e.type,placeholder:e.placeholder,"aria-describedby":"inputGroupPrepend",onChange:e.handler,required:!0})))},Ne=function(e){return r.a.createElement(g.a,null,r.a.createElement(y.a,{md:4},r.a.createElement(E.a,{type:"submit",style:{backgroundColor:"#5E90F2",marginTop:"1%"},onClick:e.handlerClick},r.a.createElement(Z.a,{icon:ne.a,style:{fontSize:"1.5em",color:"#fff",marginRight:"0.3em"}}),e.text)),r.a.createElement(y.a,{md:7},r.a.createElement(xe,{type:"text",placeholder:"Search..",icon:ne.b,handler:e.handlerSearch})))},_e=function(e){var t=e.showModalNote,n=e.hideModal,a=e.handlerClick,o=e.update,c=Object(w.m)();return r.a.createElement(b.a,{show:t,onHide:n},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Create New Resource")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(h.a.Label,null,"Insert text"),r.a.createElement(h.a.Control,{as:"textarea",rows:"3",onChange:o}))),r.a.createElement(b.a.Footer,null,r.a.createElement(E.a,{variant:"secondary",onClick:n},"Cancel"),r.a.createElement(E.a,{variant:"primary",onClick:function(){return a(c.displayName)}},"Create")))},Te=function(e){Object(F.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(B.a)(this,n),(a=t.call(this,e)).handlerSelect=function(e){alert("clicked: "+e)},a.handlerSearch=function(e){},a.handlerClick=function(e){alert("click")},a.handleShowModal=function(){a.setState({showModal:!0})},a.handleCloseModal=function(){a.setState({showModal:!1})},a.handlerSidebar=function(e){"1"==e&&a.props.history.push("/"),"2"==e&&a.props.history.goBack(),"3"==e&&(a.props.logout(),a.props.history.push("/"))},a.handlerClick=function(e){var t,n,r,o,c=a.state.noteContent;c.length<=20&&c.length>0&&(t=c,n=a.state.course_id,r=e,o=a.props.userToken,new Promise((function(e,a){C.a.post(j,{query:'\n              mutation{\n                createResource(resource:{idUser:"'.concat(r,'",idClase:').concat(n,',content:"').concat(t,'"}){\n                  message\n                  id\n                }\n              } \n              ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}).then((function(t){e(t)})).catch((function(e){console.log(e),a(new Error(e))}))}))).then((function(t){T()("Creando Recurso!","...","success");var n={idUser:e,content:c};a.setState({resources:[].concat(Object(Ce.a)(a.state.resources),[n])}),a.setState({showModalNote:!1})})).catch()},a.state={resources:[],notes:[],showModal:!1,course_id:a.props.match.params.course_id,showModalNote:!1,noteContent:""},a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=this;(e=this.state.course_id,t=this.props.userToken,new Promise((function(n,a){C.a.post(j,{query:"\n              query{\n                allResourcesOfClass(id:".concat(e,"){\n                  idUser\n                  content\n                }\n              }\n              ")},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){n(e)})).catch((function(e){console.log(e),a(new Error(e))}))}))).then((function(e){n.setState({resources:e.data.data.allResourcesOfClass},(function(){return console.log(e.data.data.allResourcesOfClass)}))})).catch()}},{key:"render",value:function(){var e=this;return console.log(this.props.userToken),r.a.createElement("div",null,r.a.createElement(de,{data:[{id:1,text:"My Courses",icon:"courses"},{id:2,text:"Go Back",icon:"back"},{id:3,text:"Cerrar Sesi\xf3n",icon:"back"}],handler:this.handlerSidebar}),r.a.createElement("div",{className:"content"},r.a.createElement(Ne,{handlerSearch:this.handlerSearch,text:"Create Resource",handlerClick:function(){return e.setState({showModalNote:!0})}}),r.a.createElement("h1",{className:"title"},"Software Architecture ",">",">"," October 12"," "),r.a.createElement("h5",{className:"subtitle"},"Resources"),r.a.createElement("hr",null),r.a.createElement(ke,{data:this.state.resources})),r.a.createElement(_e,{showModalNote:this.state.showModalNote,hideModal:function(){e.setState({showModalNote:!1})},update:function(t){return e.setState({noteContent:t.target.value})},handlerClick:this.handlerClick}))}}]),n}(r.a.Component),Pe=Object(d.g)(Te),Be=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e,a){C.a.post("http://3.140.66.179:5000/graphql",{query:'\n      query{\n        get_study_rooms(courseId:"'.concat(t,'"){\n          _id\n          name\n          resources{\n            _id\n            resource\n            author\n            authorImage\n            description\n          }\n          students{\n            _id\n            name\n            picture\n            email\n          }\n          calendarEventId\n          ownerEmail\n          ownerName\n          description\n          date\n          duration\n        }\n      }\n      '),variables:{}},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(t){e(t)})).catch((function(e){console.log(e),a(e)}))})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=(n(183),n(192));var Fe=function(e){var t=Object(a.useState)(!0),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(w.m)();function i(){var t,n,a,r,o;(t=e.studyroom._id,n=l.displayName,a="picture",r=l.email,o=l.ya,new Promise((function(e,c){C.a.post("http://3.140.66.179:5000/graphql",{query:'\n            mutation{\n              inscribe_student(\n                sr_id: "'.concat(t,'",\n                student: {\n                  name: "').concat(n,'"\n                  picture: "').concat(a,'"\n                  email: "').concat(r,'"\n                }\n                \n                ){\n                name\n              }\n            }\n            ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}).then((function(t){e(t)})).catch((function(e){console.log(e),c(new Error(e))}))}))).then((function(e){c(!0),T()("Inscribiendo!",l.displayName,"success")}))}function u(){e.studyroom.students.map((function(t){var n,a,r;t.email==l.email&&t.name==l.displayName&&(n=e.studyroom._id,a=t._id,r=l.ya,new Promise((function(e,t){C.a.post("http://3.140.66.179:5000/graphql",{query:'\n            mutation{\n              delete_student(\n                sr_id: "'.concat(n,'",\n                rmstudent: {\n                  _id: "').concat(a,'"\n                }\n                 \n                \n                ){\n                name\n              }\n            }\n            ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then((function(t){e(t)})).catch((function(e){console.log(e),t(new Error(e))}))}))).then((function(e){c(!1),T()({title:"\xbfEstas seguro?",text:"Una vez eliminada la inscripci\xf3n no saldr\xe1 en tu calendar",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?T()("La inscripci\xf3n ha sido cancelada exitosamente",{icon:"success"}):T()("Intentalo mas tarde")}))}))}))}Object(a.useEffect)((function(){e.studyroom.students.map((function(e){e.email==l.email&&e.name==l.displayName&&c(!1)}))}));var m=e.studyroom.students.map((function(e){return r.a.createElement("li",{className:"subTitles"},e.name," - ",e.email)})),d=e.studyroom.resources.map((function(e){return r.a.createElement("li",null,e.description,r.a.createElement("br",null),r.a.createElement("a",{href:e.resource},e.resource),r.a.createElement("br",null),e.author)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{border:"danger",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:e.show,onHide:e.handleClose},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},e.studyroom.name," -",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(Date.parse(e.studyroom.date))))),r.a.createElement(b.a.Body,{className:"show-grid"},r.a.createElement(N.a,null,r.a.createElement(g.a,null,r.a.createElement(y.a,{xs:9,md:6},r.a.createElement("p",null,e.studyroom.description),r.a.createElement("p",null,"|| Duraci\xf3n: ",e.studyroom.duration," minutos || ")),r.a.createElement(y.a,{xs:9,md:6},r.a.createElement("h5",null,r.a.createElement("b",null,"Estudiantes Inscritos")),m)),r.a.createElement(g.a,null,r.a.createElement(y.a,{xs:9,md:6}),r.a.createElement(y.a,{xs:9,md:6},r.a.createElement("h5",null,r.a.createElement("b",null,"Recursos")),d)),r.a.createElement(g.a,null,r.a.createElement("div",{align:"left"},"Invita: ",e.studyroom.ownerName,r.a.createElement("br",null)," ",r.a.createElement("p",{className:"subTitles"},e.studyroom.ownerEmail))))),r.a.createElement(b.a.Footer,{id:"StudyroomDetailsFooter"},r.a.createElement("div",{id:"ContainerAlert"},r.a.createElement(g.a,null,o?r.a.createElement(E.a,{variant:"primary",onClick:function(){return i()}},r.a.createElement(Ie.b,{id:"iconAddSR"})):r.a.createElement(E.a,{id:"removeSRButton",variant:"primary",onClick:function(){return u()}},r.a.createElement(Ie.a,{id:"iconRemoveSR"})),r.a.createElement("div",{id:"TitleAlert"},"Una vez confirmes asistencia recibiras el link de la reuni\xf3n a tu correo"))),r.a.createElement(E.a,{onClick:e.handleClose},"X"))))},Ae=n(193),qe=n(25),De=n(632),ze=n(640);var Me=function(e){var t=Object(w.m)(),n=r.a.useState(new Date("2020-10-20T21:11:54")),a=Object(s.a)(n,2),o=a[0],c=a[1],l=r.a.useState(),i=Object(s.a)(l,2),u=i[0],m=i[1],d=r.a.useState(30),p=Object(s.a)(d,2),f=p[0],g=p[1],v=r.a.useState(),j=Object(s.a)(v,2),S=j[0],k=j[1],O=function(e){c(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{show:e.show,onHide:e.handleClose},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Crea una sala de Estudio")),r.a.createElement(h.a,{onSubmit:function(n){var a,r,c,l,i,s,m,d;(a=u,r=S,c=o.toISOString(),l=f,i=t.displayName,s=t.email,m=e.course_id,d=t.ya,new Promise((function(e,t){C.a.post("http://3.140.66.179:5000/graphql",{query:'\n            mutation{\n              create_study_room(studyroom:\n                {\n                  name: "'.concat(a,'",\n                  description: "').concat(r,'",\n                  date: "').concat(c,'",\n                  duration: ').concat(l,',\n                  ownerName: "').concat(i,'",\n                  ownerEmail: "').concat(s,'",\n                  courseId: "').concat(m,'"\n                }){\n                name\n              }\n            }\n            ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+d}}).then((function(t){e(t)})).catch((function(e){console.log(e),t(new Error(e))}))}))).then((function(n){T()("Creando...",t.displayName,"success"),e.renderice(),e.handleClose()})),n.preventDefault()}},r.a.createElement(b.a.Body,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:y.a,controlId:"formGridTittle"},r.a.createElement(h.a.Label,null,"T\xedtulo"),r.a.createElement(h.a.Control,{type:"text",placeholder:"T\xedtulo",onChange:function(e){m(e.target.value)}})),r.a.createElement(h.a.Group,{as:y.a,controlId:"formGridDuration"},r.a.createElement(h.a.Label,null,"Duraci\xf3n",r.a.createElement("t",{className:"subTitles"}," (En minutos)")),r.a.createElement(h.a.Control,{as:"select",defaultValue:"30",onChange:function(e){g(e.target.value)}},r.a.createElement("option",null,"30"),r.a.createElement("option",null,"45"),r.a.createElement("option",null,"60"),r.a.createElement("option",null,"75"),r.a.createElement("option",null,"90"),r.a.createElement("option",null,"120")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:y.a,controlId:"formGridDate"},r.a.createElement(qe.a,{utils:Ae.a},r.a.createElement(De.a,{margin:"normal",id:"date-picker-dialog",label:"Fecha",format:"MM/dd/yyyy",value:o,onChange:O,KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(h.a.Group,{as:y.a,controlId:"formGridDate"},r.a.createElement(qe.a,{utils:Ae.a},r.a.createElement(ze.a,{margin:"normal",id:"time-picker",label:"Hora de Inicio",value:o,onChange:O,KeyboardButtonProps:{"aria-label":"change time"}})))),r.a.createElement(h.a.Group,{controlId:"formGridDescription"},r.a.createElement(h.a.Label,null,"Descripci\xf3n"),r.a.createElement(h.a.Control,{as:"textarea",rows:"3",onChange:function(e){k(e.target.value)}}))),r.a.createElement(b.a.Footer,{id:"StudyroomDetailsFooter"},r.a.createElement(E.a,{type:"submit",variant:"primary"},"+ Crear")))))};function Le(e){var t=e.studyroom,n=Object(a.useState)(!1),o=Object(s.a)(n,2),c=o[0],l=o[1];return r.a.createElement(p.a.Item,{id:"SingleStudyRoom",action:!0,variant:"light",onClick:function(){l(!0)}},r.a.createElement(g.a,null,r.a.createElement(y.a,{xs:12,md:9},t.name,r.a.createElement("br",null),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(Date.parse(t.date))),r.a.createElement(Fe,{key:t._id,studyroom:t,show:c,handleClose:function(){l(!1)}})),r.a.createElement(y.a,{xs:4,md:3,id:"ColItemSingleSR"},r.a.createElement("div",{id:"IconItemSingleSR"},r.a.createElement(pe.a,{size:32})))))}var Re=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(!1),i=Object(s.a)(l,2),u=i[0],m=i[1];var d=e.studyrooms.map((function(e){return r.a.createElement("div",{key:e._id,className:"col"},r.a.createElement(Le,{studyroom:e}))}));return r.a.createElement("div",{className:"container",id:"StudyroomsContainer"},r.a.createElement("div",{className:"col"},r.a.createElement(p.a,{id:"StudyroomsList"},r.a.createElement("h3",{id:"StudyroomsTitle"},"Study Rooms"),d),r.a.createElement(E.a,{id:"CreateNewSRButton",onClick:function(){c(!0)}}," + New StudyRoom"),r.a.createElement(Me,{show:o,handleClose:function(){c(!1)},course_id:e.course_id,renderice:function(){m(!u)}})))},Ge=n(113);n(601);var He=function(e){for(var t=Object(a.useState)(1),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(4),i=Object(s.a)(l,1)[0],u=[],m=function(e){u.push(r.a.createElement(Ge.a.Item,{key:e,onClick:function(){return c(e)},active:e===o},e))},d=1;d<=Math.ceil(e.notes.length/i);d++)m(d);var p=o*i,f=p-i,h=Object(Ce.a)(e.notes).reverse().map((function(e,t){return r.a.createElement("li",{className:"card-element"},r.a.createElement("a",{href:"#"},r.a.createElement("h2",{className:"card-title"},"Note ",t+1),r.a.createElement("p",{className:"card-content"},e.content)))})).slice(f,p);return r.a.createElement(N.a,{style:{textAlign:"center"}},r.a.createElement("ul",{className:"card-list"},h),r.a.createElement(Ge.a,{size:"sm"},r.a.createElement(Ge.a.First,{onClick:function(){return c(1)}}),u,r.a.createElement(Ge.a.Last,{onClick:function(){return c(Math.ceil(e.notes.length/i))}})))},We=function(e){Object(F.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(B.a)(this,n),(a=t.call(this,e)).handlerSidebar=function(e){"1"==e&&a.props.history.push("/"),"2"==e&&a.props.history.push("/resources/"+a.state.course_id),"3"==e&&a.props.history.push("/"),"4"==e&&(a.props.logout(),a.props.history.push("/"))},a.handlerClick=function(){var e,t,n,r=a.state.noteContent;r.length<=20&&r.length>0&&(e=r,t=a.state.course_id,n=a.props.userToken,new Promise((function(a,r){C.a.post(j,{query:'\n              mutation{\n                createNote(note:{content:"'.concat(e,'",id_user:2,score:0,id_course:').concat(t,"}){\n                  ok\n                }\n              } \n              ")},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){a(e)})).catch((function(e){console.log(e),r(new Error(e))}))}))).then((function(e){console.log(e),T()("Creando Nota..!","...","success");var t={id_note:31,content:r,id_user:2,score:0,id_course:1};a.setState({notes:[].concat(Object(Ce.a)(a.state.notes),[t])}),a.setState({showModalNote:!1})})).catch()},a.state={studyrooms:[],course_id:a.props.match.params.course_id,course_name:a.props.match.params.course_name,notes:[],notesPerPage:2,currentPage:1,showModalNote:!1,noteContent:""},a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=this;(e=this.state.course_id,t=this.props.userToken,new Promise((function(n,a){C.a.post(j,{query:"\n          query{\n            getNotesByClass(id_course:".concat(e,"){\n              id_note\n              content\n              id_user\n              score\n              id_course\n            }\n          }\n          "),variables:{}},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){n(e)})).catch((function(e){console.log(e),a(e)}))}))).then((function(e){n.setState({notes:e.data.data.getNotesByClass},(function(){return console.log(n.state.notes)}))})).catch(),Be(this.state.course_id,this.props.userToken).then((function(e){n.setState({studyrooms:e.data.data.get_study_rooms})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{data:[{id:1,text:"My Courses",icon:"courses"},{id:2,text:"Resources",icon:"courses"},{id:3,text:"Go Back",icon:"back"},{id:4,text:"Cerrar Sesi\xf3n",icon:"back"}],handler:this.handlerSidebar}),r.a.createElement("div",{className:"content"},r.a.createElement(Ne,{handlerSearch:this.handlerSearch,text:"New Note",handlerClick:function(){return e.setState({showModalNote:!0})}}),r.a.createElement("h1",{className:"title"},this.state.course_name),r.a.createElement("div",{className:"row"},null!=this.state.notes?r.a.createElement(He,{notes:this.state.notes}):""),r.a.createElement("div",{className:"row  mb-4"},r.a.createElement("div",{className:"col mt-4"},r.a.createElement(P,{course_id:this.state.course_id})),r.a.createElement("div",{className:"col mt-4"},r.a.createElement(Re,{studyrooms:this.state.studyrooms,course_id:this.state.course_id}))),r.a.createElement(b.a,{show:this.state.showModalNote,onHide:function(){e.setState({showModalNote:!1})}},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Create New Note")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(h.a.Label,null,"Insert text"),r.a.createElement(h.a.Control,{as:"textarea",rows:"3",onChange:function(t){return e.setState({noteContent:t.target.value})}}))),r.a.createElement(b.a.Footer,null,r.a.createElement(E.a,{variant:"secondary",onClick:function(){e.setState({showModalNote:!1})}},"Cancel"),r.a.createElement(E.a,{variant:"primary",onClick:this.handlerClick},"Create")))))}}]),n}(a.Component),Ue=Object(d.g)(We);var Ke=Object(d.g)((function(e){var t=Object(w.j)(),n=Object(w.m)();function o(){return c.apply(this,arguments)}function c(){return(c=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.auth().signOut();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=Object(a.useState)(0),p=Object(s.a)(l,2),f=p[0];return p[1],Object(a.useEffect)((function(){})),r.a.createElement(m.a,null,r.a.createElement(w.a,{fallback:r.a.createElement(ge,{swReg:f})},r.a.createElement(d.a,{exact:!0,path:"/course/:course_name/:course_id",component:function(){return r.a.createElement(Ue,{logout:o,userToken:null!=n?n.ya:""})}}),r.a.createElement(d.a,{exact:!0,path:"/resources/:course_id",component:function(){return r.a.createElement(Pe,{logout:o,userToken:null!=n?n.ya:""})}}),r.a.createElement(d.a,{exact:!0,path:"/forum/posts/:id",component:function(){return r.a.createElement(fe,{logout:o})}}),r.a.createElement(d.a,{exact:!0,path:"/",component:function(){return r.a.createElement(ve,{swReg:f,logout:o,userToken:null!=n?n.ya:""})}})))}));n(602),n(603);c.a.render(r.a.createElement(w.b,{firebaseConfig:{apiKey:"AIzaSyBelgE2jMEQDSk4bzo5vgl7fcm03kpCIJ4",authDomain:"westudy-3c433.firebaseapp.com",databaseURL:"https://westudy-3c433.firebaseio.com",projectId:"westudy-3c433",storageBucket:"westudy-3c433.appspot.com",messagingSenderId:"250931566022",appId:"1:250931566022:web:dd5258143e0e3d1f4b0ec7",measurementId:"G-PFE04WW5G3"}},r.a.createElement(a.Suspense,{fallback:"Conectando la aplicaci\xf3n"},r.a.createElement(m.a,null,r.a.createElement(Ke,null)))),document.getElementById("root"))}},[[289,2,3]]]);
//# sourceMappingURL=main.209843f7.chunk.js.map